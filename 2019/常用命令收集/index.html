<!DOCTYPE html>
<html lang="zh-cn">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  常用命令收集 · 一个曾经的小码农...
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="收集了一些常用和有趣的命令">
<meta name="keywords" content="[linux Hugo 解决方案 故障]">



  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/icons/logo_avatar.png">
  <meta name="twitter:title" content="常用命令收集">
  <meta name="twitter:description" content="收集了一些常用和有趣的命令">

<meta property="og:url" content="http://localhost:1313/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/">
  <meta property="og:site_name" content="一个曾经的小码农...">
  <meta property="og:title" content="常用命令收集">
  <meta property="og:description" content="收集了一些常用和有趣的命令">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-07-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-06-18T00:00:00+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="解决方案">
    <meta property="og:image" content="http://localhost:1313/icons/logo_avatar.png">
      <meta property="og:see_also" content="http://localhost:1313/2020/%E5%B8%B8%E7%94%A8web%E7%8E%AF%E5%A2%83%E4%BC%98%E5%8C%96/">
      <meta property="og:see_also" content="http://localhost:1313/2019/shellscript%E7%9B%B8%E5%85%B3/">
      <meta property="og:see_also" content="http://localhost:1313/2024/redis%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6_%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F/">
      <meta property="og:see_also" content="http://localhost:1313/2024/linux%E4%B8%8B%E4%BD%BF%E7%94%A8tun2socks%E8%BF%9B%E8%A1%8C%E4%B8%A4%E5%9C%B0%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5/">
      <meta property="og:see_also" content="http://localhost:1313/2024/linux%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E5%8F%8A%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95/">
      <meta property="og:see_also" content="http://localhost:1313/2023/%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1/">




<link rel="canonical" href="http://localhost:1313/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">


<link rel="alternate" type="text/plain" href="/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/index.md" title="一个曾经的小码农..." />







</head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      一个曾经的小码农...
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">文章</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/tags/">标签</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/">分类</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/series/">系列</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/">
              常用命令收集
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-07-23T00:00:00Z">
                July 23, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              阅读时间：8 分钟
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/admin/">Admin</a></div>

          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/linux/">Linux</a>
      <span class="separator">•</span>
    <a href="/categories/%E8%BF%90%E7%BB%B4%E8%AE%B0%E4%BA%8B/">运维记事</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/linux/">Linux</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">解决方案</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>引入一个更为专业的命令收集站点 :</p>
<blockquote>
<p><a href="https://www.commandlinefu.com/commands/browse"  class="external-link" target="_blank" rel="noopener">https://www.commandlinefu.com/commands/browse</a></p>
</blockquote>
<h1 id="统计第一列相同第二列平均值">
  统计第一列相同，第二列平均值
  <a class="heading-link" href="#%e7%bb%9f%e8%ae%a1%e7%ac%ac%e4%b8%80%e5%88%97%e7%9b%b8%e5%90%8c%e7%ac%ac%e4%ba%8c%e5%88%97%e5%b9%b3%e5%9d%87%e5%80%bc">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat xxx <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=$2;c[$1]++}END{l=asorti(a,b);for(i=1;i&lt;=l;i++)print b[i],a[b[i]]/c[b[i]]}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="时间段统计日志">
  时间段统计日志：
  <a class="heading-link" href="#%e6%97%b6%e9%97%b4%e6%ae%b5%e7%bb%9f%e8%ae%a1%e6%97%a5%e5%bf%97">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sed -n <span class="s1">&#39;/2018:02:30/,/2018:03:00/p&#39;</span> www.log <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=1;} END {for(i in a){print a[i]&#34; &#34;i;}}&#39;</span> <span class="p">|</span>sort -t <span class="s2">&#34; &#34;</span> -k <span class="m">1</span> -n
</span></span><span class="line"><span class="cl">sed -n <span class="s1">&#39;/2018:01:50/,/2018:02:00/p&#39;</span> www.log <span class="p">|</span>grep <span class="s2">&#34;list?&#34;</span> <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=1;} END {for(i in a){print a[i]&#34; &#34;i;}}&#39;</span> <span class="p">|</span>sort -t <span class="s2">&#34; &#34;</span> -k <span class="m">1</span> -n
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="按照-ip-排序">
  按照 ip 排序
  <a class="heading-link" href="#%e6%8c%89%e7%85%a7-ip-%e6%8e%92%e5%ba%8f">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 升序</span>
</span></span><span class="line"><span class="cl">sort -t<span class="s1">&#39;.&#39;</span> -k1,1n -k2,2n -k3,3n -k4,4n ip.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 降序</span>
</span></span><span class="line"><span class="cl">sort -t<span class="s1">&#39;.&#39;</span> -k1,1nr -k2,2nr -k3,3nr -k4,4nr ip.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="shell-中获取脚本绝对路径">
  shell 中获取脚本绝对路径
  <a class="heading-link" href="#shell-%e4%b8%ad%e8%8e%b7%e5%8f%96%e8%84%9a%e6%9c%ac%e7%bb%9d%e5%af%b9%e8%b7%af%e5%be%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">SHELL_DIR</span><span class="o">=</span><span class="k">$(</span>dirname <span class="k">$(</span>readlink -f <span class="s2">&#34;</span><span class="nv">$0</span><span class="s2">&#34;</span><span class="k">))</span>
</span></span><span class="line"><span class="cl"><span class="nv">SHELL_DIR</span><span class="o">=</span><span class="k">$(</span><span class="nb">cd</span> <span class="sb">`</span>dirname <span class="nv">$0</span><span class="sb">`</span><span class="p">;</span> <span class="nb">pwd</span><span class="k">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="tailf-显示高亮">
  tailf 显示高亮
  <a class="heading-link" href="#tailf-%e6%98%be%e7%a4%ba%e9%ab%98%e4%ba%ae">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> tail -f www.log <span class="p">|</span> perl -pe <span class="s1">&#39;s/(\/pattern1\/pattern2)/\e[1;31m$1\e[0m/g&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> tail -f www.log <span class="p">|</span>grep --color -E <span class="s1">&#39;pattern|$&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="openssl-通过证书加密解密大文件">
  openssl 通过证书加密解密大文件
  <a class="heading-link" href="#openssl-%e9%80%9a%e8%bf%87%e8%af%81%e4%b9%a6%e5%8a%a0%e5%af%86%e8%a7%a3%e5%af%86%e5%a4%a7%e6%96%87%e4%bb%b6">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir /etc/encrypt <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /etc/encrypt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">openssl genrsa -out private.pem <span class="m">2048</span>
</span></span><span class="line"><span class="cl">openssl rsa -in private.pem -outform PEM -pubout -out public.pem
</span></span><span class="line"><span class="cl">openssl rand -base64 <span class="m">32</span> &gt; key.bin   <span class="c1"># 远程传输建议每次都新建</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 加密</span>
</span></span><span class="line"><span class="cl">openssl rsautl -encrypt -pubin -inkey /etc/encrypt/public.pem -in /etc/encrypt/key.bin -out /etc/encrypt/key.bin.enc
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -a -pbkdf2 -salt -in  filename.gz -out filename.gz.enc -k <span class="k">$(</span>cat /etc/encrypt/key.bin<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 解密</span>
</span></span><span class="line"><span class="cl">openssl rsautl -decrypt -inkey private.pem -in key.bin.enc -out key.bin
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -d -a -pbkdf2 -in filename.gz.enc -out filename.gz -k <span class="k">$(</span>cat key.bin<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 加密</span>
</span></span><span class="line"><span class="cl">tar -czf - * <span class="p">|</span>  openssl aes-256-cfb -salt -k <span class="s2">&#34;8CASiU6zxAWy9QZ8wj+MgIzqHsBnXjgkHNvWeJ0urHw=&#34;</span> -out ssh.key.pem.enc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -d -salt -in ssh.key.pem.enc -out ssh_key.pem.tar.gz
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="免密登陆">
  免密登陆
  <a class="heading-link" href="#%e5%85%8d%e5%af%86%e7%99%bb%e9%99%86">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 172.16.10.11 无密码登陆 172.16.10.12</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 172.16.10.11 生成秘钥</span>
</span></span><span class="line"><span class="cl"><span class="c1"># rsa 默认 2048</span>
</span></span><span class="line"><span class="cl">ssh-keygen -t rsa -b <span class="m">2048</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  然后一直回车，可以设置认证密码</span>
</span></span><span class="line"><span class="cl"><span class="c1"># id_rsa 私钥(不要外传)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># id_rsa.pub (公钥导入本地authorized_keys(600)中，将私钥传给客户端，客户端即可通过私钥连接当前服务器)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 将本地的秘钥复制到服务器上就可以了,或者拷贝追加到服务器的authorized_keys文件中，即可本地登陆远程主机</span>
</span></span><span class="line"><span class="cl">ssh-copy-id -i ~/.ssh/id_rsa.pub root@172.16.10.12
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="手动检测-每分钟连接次数">
  手动检测: 每分钟连接次数
  <a class="heading-link" href="#%e6%89%8b%e5%8a%a8%e6%a3%80%e6%b5%8b-%e6%af%8f%e5%88%86%e9%92%9f%e8%bf%9e%e6%8e%a5%e6%ac%a1%e6%95%b0">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">netstat -ntu <span class="p">|</span> awk <span class="s1">&#39;{print $5}&#39;</span> <span class="p">|</span>cut -d: -f1<span class="p">|</span>sort<span class="p">|</span>uniq -c <span class="p">|</span>sort -n
</span></span><span class="line"><span class="cl">netstat -an <span class="p">|</span>grep ^tcp.*:80<span class="p">|</span>egrep -v <span class="s1">&#39;LISTEN|127.0.0.1&#39;</span><span class="p">|</span>awk -F<span class="s2">&#34;[ ]+|[:]&#34;</span> <span class="s1">&#39;{print $6}&#39;</span><span class="p">|</span>sort<span class="p">|</span>uniq -c<span class="p">|</span>sort -rn
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-用-tcpdump-查看-80-端口访问有哪些-ip">
  linux 用 tcpdump 查看 80 端口访问有哪些 IP
  <a class="heading-link" href="#linux-%e7%94%a8-tcpdump-%e6%9f%a5%e7%9c%8b-80-%e7%ab%af%e5%8f%a3%e8%ae%bf%e9%97%ae%e6%9c%89%e5%93%aa%e4%ba%9b-ip">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tcpdump -i eth0 -tnn dst port <span class="m">80</span> -c 1000<span class="p">|</span>awk -F<span class="s2">&#34;.&#34;</span> <span class="s1">&#39;{print $1&#34;.&#34;$2&#34;.&#34;$3&#34;.&#34;$4}&#39;</span><span class="p">|</span>sort<span class="p">|</span>uniq -c<span class="p">|</span>sort -rn<span class="p">|</span>head -n20
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看-linux-内存占用最高的-10-个进程">
  查看 linux 内存占用最高的 10 个进程
  <a class="heading-link" href="#%e6%9f%a5%e7%9c%8b-linux-%e5%86%85%e5%ad%98%e5%8d%a0%e7%94%a8%e6%9c%80%e9%ab%98%e7%9a%84-10-%e4%b8%aa%e8%bf%9b%e7%a8%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux<span class="p">|</span>head -1 <span class="o">&amp;&amp;</span> ps aux<span class="p">|</span>grep -v PID<span class="p">|</span>sort -rn -k +4<span class="p">|</span>head
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-cpu-占用最高的-10-个进程">
  linux 查看 cpu 占用最高的 10 个进程
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b-cpu-%e5%8d%a0%e7%94%a8%e6%9c%80%e9%ab%98%e7%9a%84-10-%e4%b8%aa%e8%bf%9b%e7%a8%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux<span class="p">|</span>head -1<span class="p">;</span>ps aux<span class="p">|</span>grep -v PID<span class="p">|</span>sort -rn -k +3<span class="p">|</span>head
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看命令来源于那个包yum-也适用">
  linux 查看命令来源于那个包(yum 也适用)
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b%e5%91%bd%e4%bb%a4%e6%9d%a5%e6%ba%90%e4%ba%8e%e9%82%a3%e4%b8%aa%e5%8c%85yum-%e4%b9%9f%e9%80%82%e7%94%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf provides htop
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看已安装的命令原来于那个包">
  linux 查看已安装的命令原来于那个包
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b%e5%b7%b2%e5%ae%89%e8%a3%85%e7%9a%84%e5%91%bd%e4%bb%a4%e5%8e%9f%e6%9d%a5%e4%ba%8e%e9%82%a3%e4%b8%aa%e5%8c%85">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qf /usr/bin/htop
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包信息">
  linux 查看 rpm 包信息
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e4%bf%a1%e6%81%af">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpi xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包内容">
  linux 查看 rpm 包内容
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e5%86%85%e5%ae%b9">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpl xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包依赖">
  linux 查看 rpm 包依赖
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e4%be%9d%e8%b5%96">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpR xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包带的执行脚本">
  linux 查看 rpm 包带的执行脚本
  <a class="heading-link" href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e5%b8%a6%e7%9a%84%e6%89%a7%e8%a1%8c%e8%84%9a%e6%9c%ac">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qp --scripts xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-自动安装-rpm-包依赖dnf-默认已存在该功能">
  linux 自动安装 rpm 包依赖(dnf 默认已存在该功能)
  <a class="heading-link" href="#linux-%e8%87%aa%e5%8a%a8%e5%ae%89%e8%a3%85-rpm-%e5%8c%85%e4%be%9d%e8%b5%96dnf-%e9%bb%98%e8%ae%a4%e5%b7%b2%e5%ad%98%e5%9c%a8%e8%af%a5%e5%8a%9f%e8%83%bd">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum -y localinstall xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-rpm-循环安装包依赖">
  linux rpm 循环安装包依赖
  <a class="heading-link" href="#linux-rpm-%e5%be%aa%e7%8e%af%e5%ae%89%e8%a3%85%e5%8c%85%e4%be%9d%e8%b5%96">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 关于循环安装是指的是主rpm包的所有的依赖包在同一目录下，会自动安装其依赖后在安装主rpm包，(此方法缺陷较大)</span>
</span></span><span class="line"><span class="cl">rpm -ivh --aid  *.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="清除僵死进程">
  清除僵死进程
  <a class="heading-link" href="#%e6%b8%85%e9%99%a4%e5%83%b5%e6%ad%bb%e8%bf%9b%e7%a8%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps -eal <span class="p">|</span> awk <span class="s1">&#39;{ if ($2 == &#34;Z&#34;) {print $4}}&#39;</span> <span class="p">|</span> <span class="nb">kill</span> -9
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="lnmplamp-环境查看编译参数">
  LNMP/LAMP 环境查看编译参数
  <a class="heading-link" href="#lnmplamp-%e7%8e%af%e5%a2%83%e6%9f%a5%e7%9c%8b%e7%bc%96%e8%af%91%e5%8f%82%e6%95%b0">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># nginx</span>
</span></span><span class="line"><span class="cl">/pathto/nginx/sbin/nginx -V
</span></span><span class="line"><span class="cl"><span class="c1"># apache</span>
</span></span><span class="line"><span class="cl">/pathto/apache/build/config.nice
</span></span><span class="line"><span class="cl"><span class="c1"># mysql</span>
</span></span><span class="line"><span class="cl">grep CONFIGURE_LINE /usr/bin/mysqlbug
</span></span><span class="line"><span class="cl"><span class="c1"># php</span>
</span></span><span class="line"><span class="cl">/pathto/php/bin/php -i<span class="p">|</span>grep configure
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="让不同的进程使用不同的-cpu">
  让不同的进程使用不同的 cpu
  <a class="heading-link" href="#%e8%ae%a9%e4%b8%8d%e5%90%8c%e7%9a%84%e8%bf%9b%e7%a8%8b%e4%bd%bf%e7%94%a8%e4%b8%8d%e5%90%8c%e7%9a%84-cpu">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># taskset -c,--cpu-list command</span>
</span></span><span class="line"><span class="cl">taskset -c 0,1,2,3 /etc/init.d/mysql start
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="watch-监测命令运行结果">
  watch 监测命令运行结果
  <a class="heading-link" href="#watch-%e7%9b%91%e6%b5%8b%e5%91%bd%e4%bb%a4%e8%bf%90%e8%a1%8c%e7%bb%93%e6%9e%9c">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 类似tailf,但是针对命令</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 查看当前目录内容变化</span>
</span></span><span class="line"><span class="cl"><span class="c1"># watch ls</span>
</span></span><span class="line"><span class="cl"><span class="c1"># watch &#34;netstat -ntu | awk &#39;{print $5}&#39; |cut -d: -f1|sort|uniq -c |sort -n&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="创建一个具有特定权限的空文件">
  创建一个具有特定权限的空文件
  <a class="heading-link" href="#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%85%b7%e6%9c%89%e7%89%b9%e5%ae%9a%e6%9d%83%e9%99%90%e7%9a%84%e7%a9%ba%e6%96%87%e4%bb%b6">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#install -b -m &lt;权限&gt; &lt;来源&gt; &lt;目标&gt;</span>
</span></span><span class="line"><span class="cl">install -b -m <span class="m">777</span> /dev/null file.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="创建一个具有特定权限的目录">
  创建一个具有特定权限的目录
  <a class="heading-link" href="#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%85%b7%e6%9c%89%e7%89%b9%e5%ae%9a%e6%9d%83%e9%99%90%e7%9a%84%e7%9b%ae%e5%bd%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># install -d -o &lt;用户名&gt; -g &lt;用户组&gt; -m &lt;权限&gt; &lt;目标地址&gt;</span>
</span></span><span class="line"><span class="cl">install -d -o www -g www -m <span class="m">755</span>  /run/php-fpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="通过-sshfs-远程挂载目录">
  通过 sshfs 远程挂载目录
  <a class="heading-link" href="#%e9%80%9a%e8%bf%87-sshfs-%e8%bf%9c%e7%a8%8b%e6%8c%82%e8%bd%bd%e7%9b%ae%e5%bd%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install sshfs
</span></span><span class="line"><span class="cl"><span class="c1"># mount</span>
</span></span><span class="line"><span class="cl">sshfs -o reconnect,_netdev,user,idmap<span class="o">=</span>user,identityfile<span class="o">=</span>/pathto/id_rsa,default_permissions  user@host:/path  /mnt/pathto
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/fstab</span>
</span></span><span class="line"><span class="cl">user@host:/path /mnt/pathto fuse.sshfs noauto,x-systemd.automount,reconnect,_netdev,user,idmap<span class="o">=</span>user,identityfile<span class="o">=</span>/pathto/id_rsa,allow_other,default_permissions <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="tmpfs-一种基于内存的文件系统">
  tmpfs 一种基于内存的文件系统
  <a class="heading-link" href="#tmpfs-%e4%b8%80%e7%a7%8d%e5%9f%ba%e4%ba%8e%e5%86%85%e5%ad%98%e7%9a%84%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mount -t tmpfs -o <span class="nv">size</span><span class="o">=</span>1024M tmpfs /mnt/usb02
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="文件描述符相关">
  文件描述符相关
  <a class="heading-link" href="#%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6%e7%9b%b8%e5%85%b3">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<details>
<summary>点击展开详细内容</summary>
<ol>
<li>
<p>系统最大打开的文件描述符数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /proc/sys/fs/file-nr
</span></span><span class="line"><span class="cl">10848	0	<span class="m">6815744</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第一个值: 当前系统已分配使用的打开文件描述符数</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第二个值: 为分配后已释放的（目前已不再使用）</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第三个值: 等于/proc/sys/fs/file-max(打开的最大fd数量)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取打开的文件数量</p>
<ul>
<li>
<p>获取整个系统打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lsof <span class="p">|</span> wc -l
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个用户打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lsof -u <span class="nb">test</span> <span class="p">|</span>wc -l
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个程序打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> i in <span class="sb">`</span>pidof dotnet<span class="sb">`</span><span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    lsof -p <span class="s2">&#34;</span><span class="nv">$i</span><span class="s2">&#34;</span> <span class="p">|</span> wc -l <span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个程序打开的文件描述符数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> i in <span class="sb">`</span>pidof dotnet<span class="sb">`</span> <span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$i</span><span class="s2"> : &#34;</span><span class="k">$(</span>ll /proc/<span class="nv">$i</span>/fd<span class="p">|</span>wc -l<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>查看系统里占用 fd 最多的进程</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">    lsof -n <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nr <span class="p">|</span>head -n <span class="m">10</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#第一列是占用的fd数量，第二列是进程的pid</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<h1 id="字符串拆分">
  字符串拆分
  <a class="heading-link" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8b%86%e5%88%86">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;hello&#34;</span> <span class="p">|</span>awk -F <span class="s1">&#39;&#39;</span> <span class="s1">&#39;{for(i=1;i&lt;=NF;i++)print $i}&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#echo &#34;hello&#34; |awk &#39;{split($0,a,&#34;&#39;&#39;&#34;);for(v in a)print a[v]}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="去除文本第一行和最后一行">
  去除文本第一行和最后一行
  <a class="heading-link" href="#%e5%8e%bb%e9%99%a4%e6%96%87%e6%9c%ac%e7%ac%ac%e4%b8%80%e8%a1%8c%e5%92%8c%e6%9c%80%e5%90%8e%e4%b8%80%e8%a1%8c">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">seq <span class="m">5</span> <span class="p">|</span>awk<span class="s1">&#39;NR&gt;2{print s}{s=$0}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看当前主机类型">
  查看当前主机类型
  <a class="heading-link" href="#%e6%9f%a5%e7%9c%8b%e5%bd%93%e5%89%8d%e4%b8%bb%e6%9c%ba%e7%b1%bb%e5%9e%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat /sys/class/dmi/id/product_name
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="find-查看特定后缀的文件">
  find 查看特定后缀的文件
  <a class="heading-link" href="#find-%e6%9f%a5%e7%9c%8b%e7%89%b9%e5%ae%9a%e5%90%8e%e7%bc%80%e7%9a%84%e6%96%87%e4%bb%b6">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># find ./ -regex &#34;.*\.tar.gz\|.*\.7z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># find ./ -type f -regextype posix-extended -regex &#34;.*\.(tar.gz|7z)&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="shell-范围随机数">
  shell 范围随机数
  <a class="heading-link" href="#shell-%e8%8c%83%e5%9b%b4%e9%9a%8f%e6%9c%ba%e6%95%b0">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># echo $((RANDOM % (max - min) + min))</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="k">$((</span>RANDOM <span class="o">%</span> <span class="o">(</span><span class="m">99</span> <span class="o">-</span> <span class="m">80</span><span class="o">)</span> <span class="o">+</span> <span class="m">80</span><span class="k">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># shuf -i min-max -n 1</span>
</span></span><span class="line"><span class="cl">shuf -i 0-8 -n <span class="m">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-将时间戳转换为时间">
  linux 将时间戳转换为时间
  <a class="heading-link" href="#linux-%e5%b0%86%e6%97%b6%e9%97%b4%e6%88%b3%e8%bd%ac%e6%8d%a2%e4%b8%ba%e6%97%b6%e9%97%b4">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">date +<span class="s2">&#34;%F_%T&#34;</span> -d<span class="nv">$timestamp</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-远程桌面连接">
  linux 远程桌面连接
  <a class="heading-link" href="#linux-%e8%bf%9c%e7%a8%8b%e6%a1%8c%e9%9d%a2%e8%bf%9e%e6%8e%a5">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># freerdp-2.2.0-1.fc32.x86_64</span>
</span></span><span class="line"><span class="cl">xfreerdp /v:&lt;hostip&gt; /u:&lt;username&gt; /drive:shares,&lt;本地目录&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-打包文件夹为-iso-文件">
  linux 打包文件夹为 ISO 文件
  <a class="heading-link" href="#linux-%e6%89%93%e5%8c%85%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%ba-iso-%e6%96%87%e4%bb%b6">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkisofs -o file.iso -J -R -V <span class="m">01</span> file/
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="docker-与-iptables-只允许特定-ip-访问-docker-的服务docker-user">
  Docker 与 iptables 只允许特定 ip 访问 Docker 的服务(DOCKER-USER)
  <a class="heading-link" href="#docker-%e4%b8%8e-iptables-%e5%8f%aa%e5%85%81%e8%ae%b8%e7%89%b9%e5%ae%9a-ip-%e8%ae%bf%e9%97%ae-docker-%e7%9a%84%e6%9c%8d%e5%8a%a1docker-user">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<blockquote>
<p><a href="https://blog.csdn.net/Liv2005/article/details/112850208"  class="external-link" target="_blank" rel="noopener">https://blog.csdn.net/Liv2005/article/details/112850208</a></p>
</blockquote>
<blockquote>
<p><a href="https://docs.docker.com/network/iptables/"  class="external-link" target="_blank" rel="noopener">https://docs.docker.com/network/iptables/</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 允许172.31.10.0/24网段访问docker网络，eth0 为服务器对外通信网卡 </span>
</span></span><span class="line"><span class="cl">iptables -I DOCKER-USER -i eth0 ! -s 172.31.10.0/24 -j DROP
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="openssl-公钥提取">
  openssl 公钥提取
  <a class="heading-link" href="#openssl-%e5%85%ac%e9%92%a5%e6%8f%90%e5%8f%96">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 从证书中提取</span>
</span></span><span class="line"><span class="cl">openssl x509 -in domain.pem -pubkey  -noout &gt; public.pem
</span></span><span class="line"><span class="cl"><span class="c1"># 从私钥中提取</span>
</span></span><span class="line"><span class="cl">openssl rsa -in private.key -pubout &gt; public.pem
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看本地监听信息">
  查看本地监听信息
  <a class="heading-link" href="#%e6%9f%a5%e7%9c%8b%e6%9c%ac%e5%9c%b0%e7%9b%91%e5%90%ac%e4%bf%a1%e6%81%af">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /proc/net/tcp <span class="p">|</span> grep <span class="s2">&#34; 0A &#34;</span> <span class="p">|</span> sed <span class="s1">&#39;s/^[^:]*: \(..\)\(..\)\(..\)\(..\):\(....\).*/echo $((0x\4)).$((0x\3)).$((0x\2)).$((0x\1)):$((0x\5))/g&#39;</span> <span class="p">|</span> bash
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="获取-ping-域名的-ip">
  获取 ping 域名的 ip
  <a class="heading-link" href="#%e8%8e%b7%e5%8f%96-ping-%e5%9f%9f%e5%90%8d%e7%9a%84-ip">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ping www.baidu.com -c <span class="m">1</span> -w <span class="m">1</span> <span class="p">|</span> sed <span class="s1">&#39;1{s/[^(]*(//;s/).*//;q}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="检查用户是否有操作-docker-权限">
  检查用户是否有操作 docker 权限
  <a class="heading-link" href="#%e6%a3%80%e6%9f%a5%e7%94%a8%e6%88%b7%e6%98%af%e5%90%a6%e6%9c%89%e6%93%8d%e4%bd%9c-docker-%e6%9d%83%e9%99%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo -u zabbix curl --unix-socket /var/run/docker.sock --no-buffer -XGET v1.24/_ping
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="分段压缩">
  分段压缩
  <a class="heading-link" href="#%e5%88%86%e6%ae%b5%e5%8e%8b%e7%bc%a9">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 压缩</span>
</span></span><span class="line"><span class="cl">$&gt; tar czf - /pathto/dir01 /pathto/dir02 <span class="p">|</span>split -d -b 2G - file.tgz.
</span></span><span class="line"><span class="cl"><span class="c1"># 解压</span>
</span></span><span class="line"><span class="cl">$&gt; cat file.tgz* <span class="p">|</span> tar xz 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 压缩</span>
</span></span><span class="line"><span class="cl">$&gt; zip -s 100m -r myarchive.zip myfolder/
</span></span><span class="line"><span class="cl"><span class="c1"># 解压</span>
</span></span><span class="line"><span class="cl">$&gt; unzip myarchive.zip
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="临时移动工作路径执行命令">
  临时移动工作路径执行命令
  <a class="heading-link" href="#%e4%b8%b4%e6%97%b6%e7%a7%bb%e5%8a%a8%e5%b7%a5%e4%bd%9c%e8%b7%af%e5%be%84%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$&gt; (cd /some/other/dir &amp;&amp; other-command)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="mount---bind">
  mount &ndash;bind
  <a class="heading-link" href="#mount---bind">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 olddir 绑定到  newdir</span>
</span></span><span class="line"><span class="cl">$&gt; mount -o <span class="nb">bind</span> olddir newdir
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ro: 只读  rw: 只写</span>
</span></span><span class="line"><span class="cl">olddir newdir none defaults,ro,bind <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># systemd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/systemd/system/sftpdir-mnt.mount</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>Unit<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">SourcePath</span><span class="o">=</span>/etc/fstab
</span></span><span class="line"><span class="cl"><span class="nv">Documentation</span><span class="o">=</span>man:fstab<span class="o">(</span>5<span class="o">)</span> man:systemd-fstab-generator<span class="o">(</span>8<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">Before</span><span class="o">=</span>local-fs.target
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Mount<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">What</span><span class="o">=</span>olddir
</span></span><span class="line"><span class="cl"><span class="nv">Where</span><span class="o">=</span>newdir
</span></span><span class="line"><span class="cl"><span class="nv">Type</span><span class="o">=</span>none
</span></span><span class="line"><span class="cl"><span class="nv">Options</span><span class="o">=</span>defaults,rw,bind
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Install<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="systemd-守护桌面程序">
  systemd 守护桌面程序
  <a class="heading-link" href="#systemd-%e5%ae%88%e6%8a%a4%e6%a1%8c%e9%9d%a2%e7%a8%8b%e5%ba%8f">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 以最新的QQ Linux版 3.0.0 为例，fedora33 下经常崩溃，用systemd守护其运行，在QQ崩溃时自动重启QQ</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 运行以下命令以启动systemd守护进程 </span>
</span></span><span class="line"><span class="cl">$&gt; /usr/bin/systemd-run --property <span class="nv">Restart</span><span class="o">=</span>on-failure --user /opt/QQ/qq
</span></span><span class="line"><span class="cl"><span class="c1"># 替换默认 /usr/share/applications/qq.desktop的执行命令 Exec=/usr/bin/systemd-run --property Restart=on-failure --user /opt/QQ/qq</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 日志检查，可以定位当前用户的日志看(或者 systemctl --user list-units run-*|grep qq，查询到systemd-run启动的service，直接定位)</span>
</span></span><span class="line"><span class="cl">$&gt; journalctl -f -u user@<span class="si">${</span><span class="nv">UID</span><span class="si">}</span>.service
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="证书相关操作">
  证书相关操作
  <a class="heading-link" href="#%e8%af%81%e4%b9%a6%e7%9b%b8%e5%85%b3%e6%93%8d%e4%bd%9c">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#CA合并</span>
</span></span><span class="line"><span class="cl"><span class="c1">#厂商提供的cer文件，全部合并为后缀为pem的文件，并将域的cer放在文件最前面,crt 在后面</span>
</span></span><span class="line"><span class="cl"><span class="c1">#nginx导入key和pem即可</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 查看远程证书相关信息  </span>
</span></span><span class="line"><span class="cl">$&gt; <span class="nb">echo</span> <span class="p">|</span> openssl s_client -connect tools.example.com:443 2&gt;<span class="p">&amp;</span>- <span class="p">|</span> sed -ne <span class="s1">&#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39;</span> &gt; remote-cert.pem <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        <span class="o">&amp;&amp;</span> openssl x509 -in remote-cert.pem -text <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        <span class="o">&amp;&amp;</span> rm remote-cert.pem
</span></span><span class="line"><span class="cl"><span class="c1">#     查看证书到期时间       </span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &amp;&amp; openssl x509 -in remote-cert.pem -enddate -noout      </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl">$&gt; openssl s_client -showcerts -connect tools.example.com:443 &lt;/dev/null <span class="p">|</span> openssl x509 -inform PEM -noout -text     
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##  CA证书取消密码</span>
</span></span><span class="line"><span class="cl">$&gt; openssl rsa -in &lt;ca-private-key-file&gt; -out &lt;ca-private-key-file&gt;.enc
</span></span><span class="line"><span class="cl"><span class="c1">##  CA证书添加密码</span>
</span></span><span class="line"><span class="cl">$&gt; openssl rsa -des3 -in &lt;ca-private-key-file&gt; -out &lt;ca-private-key-file&gt;.enc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 证书生成 </span>
</span></span><span class="line"><span class="cl"><span class="c1">## 创建ca私钥</span>
</span></span><span class="line"><span class="cl">$&gt; openssl genrsa -des3 -out ca.key <span class="m">4096</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 创建ca证书</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /C=CN：证书持有者所在国家的两字母代码</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /ST=CQ：证书持有者所在省/直辖市/自治区的名称或缩写</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /O=example：证书持有者的组织或公司名称</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /CN=example：证书持有者的通用名称（Common Name），一般为服务器的域名或客户端的用户名</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /emailAddress=mail@example.com：证书持有者的电子邮件地址。</span>
</span></span><span class="line"><span class="cl">$&gt; openssl req -utf8 -x509 -new -nodes -key ca.key -sha512 -days <span class="m">18250</span> -out ca.pem -subj <span class="s2">&#34;/C=CN/ST=CQ/O=example/CN=example/emailAddress=mail@example.com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建服务器私钥</span>
</span></span><span class="line"><span class="cl">$&gt; openssl genrsa -out server.key <span class="m">4096</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建域名csr</span>
</span></span><span class="line"><span class="cl">$&gt; openssl req -new -key server.key -out server.csr -subj <span class="s2">&#34;/C=CN/ST=CQ/O=0x5c0f/CN=example.com/emailAddress=mail@example.com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建扩展</span>
</span></span><span class="line"><span class="cl">$&gt; cat &gt; server.ext <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">authorityKeyIdentifier=keyid,issuer
</span></span></span><span class="line"><span class="cl"><span class="s">basicConstraints=CA:FALSE
</span></span></span><span class="line"><span class="cl"><span class="s">keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
</span></span></span><span class="line"><span class="cl"><span class="s">extendedKeyUsage = serverAuth, clientAuth, codeSigning
</span></span></span><span class="line"><span class="cl"><span class="s">subjectAltName = @alt_names
</span></span></span><span class="line"><span class="cl"><span class="s">[alt_names]
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.1 = *.example.com
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.2 = *.example.cn
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.3 = localhost
</span></span></span><span class="line"><span class="cl"><span class="s">IP.1 = 127.0.0.1
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 生成域名证书</span>
</span></span><span class="line"><span class="cl">$&gt; openssl x509 -req -in server.csr -CA ca.pem -CAkey ca.key -CAcreateserial -out server.crt -days <span class="m">1825</span> -sha512 -extfile server.ext
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-端口转发">
  linux 端口转发
  <a class="heading-link" href="#linux-%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># linux 下端口转发</span>
</span></span><span class="line"><span class="cl">$&gt; <span class="nb">echo</span> <span class="m">1</span> &gt;/proc/sys/net/ipv4/ip_forward
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A POSTROUTING -j MASQUERADE
</span></span><span class="line"><span class="cl">$&gt; iptables -A FORWARD -i <span class="o">[</span>内网网卡名称<span class="o">]</span> -j ACCEPT
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A POSTROUTING -s <span class="o">[</span>内网网段<span class="o">]</span> -o <span class="o">[</span>外网网卡名称<span class="o">]</span> -j MASQUERADE
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A PREROUTING -p tcp -m tcp --dport <span class="o">[</span>外网端口<span class="o">]</span> -j DNAT --to-destination <span class="o">[</span>内网地址<span class="o">]</span>:<span class="o">[</span>内网端口<span class="o">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-下实现内网上公网">
  linux 下实现内网上公网
  <a class="heading-link" href="#linux-%e4%b8%8b%e5%ae%9e%e7%8e%b0%e5%86%85%e7%bd%91%e4%b8%8a%e5%85%ac%e7%bd%91">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 允许NAT功能和网络包的转发(eth0 为可以连接公网的网卡)</span>
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</span></span><span class="line"><span class="cl"><span class="c1"># 允许从内网到公网的数据包转发</span>
</span></span><span class="line"><span class="cl">$&gt; sudo iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT
</span></span><span class="line"><span class="cl"><span class="c1"># sudo iptables -A FORWARD -i eth1 -s 10.0.2.33 -o eth0 -j ACCEPT</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 允许已经建立连接的流量转发</span>
</span></span><span class="line"><span class="cl">$&gt; sudo iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT
</span></span><span class="line"><span class="cl"><span class="c1"># sudo iptables -A FORWARD -i eth0 -d 10.0.2.33 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查询cpu占用过高的php-fpm进程正在执行的php脚本或者处理的事">
  linux 查询cpu占用过高的php-fpm进程,正在执行的php脚本或者处理的事
  <a class="heading-link" href="#linux-%e6%9f%a5%e8%af%a2cpu%e5%8d%a0%e7%94%a8%e8%bf%87%e9%ab%98%e7%9a%84php-fpm%e8%bf%9b%e7%a8%8b%e6%ad%a3%e5%9c%a8%e6%89%a7%e8%a1%8c%e7%9a%84php%e8%84%9a%e6%9c%ac%e6%88%96%e8%80%85%e5%a4%84%e7%90%86%e7%9a%84%e4%ba%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. 通过top找到正在消耗 CPU 的 php-fpm 进程的 PID </span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2. 使用 strace 命令跟踪该进程：</span>
</span></span><span class="line"><span class="cl">$&gt; strace -p &lt;PID&gt; -e <span class="nv">trace</span><span class="o">=</span>open,execve,stat
</span></span><span class="line"><span class="cl"><span class="c1"># 3. 在输出中查找正在执行的 PHP 脚本</span>
</span></span><span class="line"><span class="cl">$&gt; strace -p &lt;PID&gt; -e <span class="nv">trace</span><span class="o">=</span>open,execve,stat 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> grep <span class="s1">&#39;\.php&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查询当前目录下-md5-相同的文件">
  查询当前目录下 <code>md5</code> 相同的文件
  <a class="heading-link" href="#%e6%9f%a5%e8%af%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b-md5-%e7%9b%b8%e5%90%8c%e7%9a%84%e6%96%87%e4%bb%b6">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> sort <span class="p">|</span> uniq -w32 -dD
</span></span><span class="line"><span class="cl"><span class="c1"># uniq -w32 -dD：找到重复的MD5哈希，并只打印重复的行</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查询当前目录下-md5-等于某个值并删除移动">
  查询当前目录下 <code>md5</code> 等于某个值并删除/移动
  <a class="heading-link" href="#%e6%9f%a5%e8%af%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b-md5-%e7%ad%89%e4%ba%8e%e6%9f%90%e4%b8%aa%e5%80%bc%e5%b9%b6%e5%88%a0%e9%99%a4%e7%a7%bb%e5%8a%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除</span>
</span></span><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> grep <span class="s1">&#39;your_md5_value&#39;</span> <span class="p">|</span> cut -d <span class="s1">&#39; &#39;</span> -f 2- <span class="p">|</span> xargs rm
</span></span><span class="line"><span class="cl"><span class="c1"># 移动</span>
</span></span><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> grep <span class="s1">&#39;your_md5_value&#39;</span> <span class="p">|</span> cut -d <span class="s1">&#39; &#39;</span> -f 2- <span class="p">|</span> xargs -I <span class="o">{}</span> mv <span class="o">{}</span> /path/to/destination/
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="通过-skopeo-命令查询-docker-仓库中特定容器存在那些版本也可以用于管理">
  通过 <code>skopeo</code> 命令查询 <code>docker</code> 仓库中特定容器存在那些版本，也可以用于管理
  <a class="heading-link" href="#%e9%80%9a%e8%bf%87-skopeo-%e5%91%bd%e4%bb%a4%e6%9f%a5%e8%af%a2-docker-%e4%bb%93%e5%ba%93%e4%b8%ad%e7%89%b9%e5%ae%9a%e5%ae%b9%e5%99%a8%e5%ad%98%e5%9c%a8%e9%82%a3%e4%ba%9b%e7%89%88%e6%9c%ac%e4%b9%9f%e5%8f%af%e4%bb%a5%e7%94%a8%e4%ba%8e%e7%ae%a1%e7%90%86">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查询 </span>
</span></span><span class="line"><span class="cl">$&gt; skopeo list-tags docker://hub.example.com/0x5c0f/sshx
</span></span><span class="line"><span class="cl"><span class="c1"># 删除</span>
</span></span><span class="line"><span class="cl">$&gt; skopeo delete docker://hub.example.com/0x5c0f/sshx:2023121505
</span></span><span class="line"><span class="cl"><span class="c1"># ...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查询-docker-运行容器的-cpu-占用信息并按照-cpu-占用排序">
  查询 <code>docker</code> 运行容器的 <code>cpu</code> 占用信息，并按照 <code>cpu</code> 占用排序
  <a class="heading-link" href="#%e6%9f%a5%e8%af%a2-docker-%e8%bf%90%e8%a1%8c%e5%ae%b9%e5%99%a8%e7%9a%84-cpu-%e5%8d%a0%e7%94%a8%e4%bf%a1%e6%81%af%e5%b9%b6%e6%8c%89%e7%85%a7-cpu-%e5%8d%a0%e7%94%a8%e6%8e%92%e5%ba%8f">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$&gt; watch -n <span class="m">3</span> <span class="s1">&#39;docker stats --no-stream --format &#34;table {{.Name}}\t{{.CPUPerc}}&#34; | sort -k 2 -r&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="docker-compose-同时查询服务名容器名容器id">
  docker-compose 同时查询<code>服务名</code>、<code>容器名</code>、<code>容器id</code>
  <a class="heading-link" href="#docker-compose-%e5%90%8c%e6%97%b6%e6%9f%a5%e8%af%a2%e6%9c%8d%e5%8a%a1%e5%90%8d%e5%ae%b9%e5%99%a8%e5%90%8d%e5%ae%b9%e5%99%a8id">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 需要 docker-compose v2</span>
</span></span><span class="line"><span class="cl">$&gt; docker compose ps --format <span class="s2">&#34;table {{.Service}}:{{.Name}}\t{{.ID}}&#34;</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="实时写入的大文件压缩切割">
  实时写入的大文件压缩切割
  <a class="heading-link" href="#%e5%ae%9e%e6%97%b6%e5%86%99%e5%85%a5%e7%9a%84%e5%a4%a7%e6%96%87%e4%bb%b6%e5%8e%8b%e7%bc%a9%e5%88%87%e5%89%b2">
    <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
    <span class="sr-only">链接到标题</span>
  </a>
</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$&gt; gzip -c a.log &gt;/tmp/a.log.gz <span class="o">&amp;&amp;</span> &gt; a.log
</span></span></code></pre></td></tr></table>
</div>
</div>
      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="参见-运维记事">
        参见 运维记事
        <a class="heading-link" href="#%e5%8f%82%e8%a7%81-%e8%bf%90%e7%bb%b4%e8%ae%b0%e4%ba%8b">
          <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
          <span class="sr-only">链接到标题</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/2020/%E5%B8%B8%E7%94%A8web%E7%8E%AF%E5%A2%83%E4%BC%98%E5%8C%96/">常用web环境优化</a>
            </li>
          
        
          
        
          
            <li>
              <a href="/2019/shellscript%E7%9B%B8%E5%85%B3/">Shellscript相关</a>
            </li>
          
        
          
            <li>
              <a href="/2024/redis%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6_%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F/">Redis主从复制&#43;哨兵</a>
            </li>
          
        
          
            <li>
              <a href="/2024/linux%E4%B8%8B%E4%BD%BF%E7%94%A8tun2socks%E8%BF%9B%E8%A1%8C%E4%B8%A4%E5%9C%B0%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5/">Linux下使用tun2socks进行两地网络连接</a>
            </li>
          
        
          
            <li>
              <a href="/2024/linux%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E5%8F%8A%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95/">Linux 性能基准测试工具及测试方法</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
    <div class="footer-container"><div class="footer-line"><div id="show-ip"></div><script>document.addEventListener("DOMContentLoaded", function () {fetch("https://ipinfo.io/json?token=c9716df22a6255").then(function (response) {return response.json();}).then(function (data) {document.getElementById("show-ip").innerHTML = data.ip;if (data.country !== "CN") {document.querySelectorAll(".icp, .icp-splitter, .icp-br").forEach(function (el) {el.style.display = "none";});}}).catch(function (error) {document.getElementById("show-ip").innerHTML = "unknown";console.error("状态请求失败:", error);});});</script><script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)})(window,document,"clarity","script","jtpwi0tdz1");</script></div><div class="footer-line">
          &nbsp;|&nbsp;&nbsp;|&nbsp;
        </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 -2024</span><span class="author" itemprop="copyrightHolder"
            >&nbsp;<a
              href="/"
              target="_blank"
              rel="noopener noreferrer"
              ></a
            ></span
          >&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br" />
          <span class="icp"><img src="/images/gov.png" style="height: 16px;width: 16px; display: inline-block;vertical-align: middle;margin-right: 3px;"/><a href="https://beian.mps.gov.cn/#/query/webSearch?code=50010602503871" rel="noreferrer" target="_blank">渝公网安备50010602503871</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br" />
          <span class="icp"><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2020011834号-2</a></span></div>
      <div class="footer-line"></div>
      <div class="footer-line"></div>
    </div></footer>
  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
