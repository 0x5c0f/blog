

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>常用命令收集 - 一个曾经的小码农...</title><meta name="Description" content="收集了一些常用和有趣的命令"><meta property="og:title" content="常用命令收集" />
<meta property="og:description" content="收集了一些常用和有趣的命令" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.0x5c0f.cc/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/" /><meta property="og:image" content="https://blog.0x5c0f.cc/icons/logo_avatar.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-08-29T00:00:00+00:00" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://blog.0x5c0f.cc/icons/logo_avatar.png" /><meta name="twitter:title" content="常用命令收集"/>
<meta name="twitter:description" content="收集了一些常用和有趣的命令"/>
<meta name="application-name" content="DoIt">
<meta name="apple-mobile-web-app-title" content="DoIt">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/icons/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://blog.0x5c0f.cc/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/" /><link rel="prev" href="https://blog.0x5c0f.cc/2019/shellscript%E7%9B%B8%E5%85%B3/" /><link rel="next" href="https://blog.0x5c0f.cc/2020/%E5%B8%B8%E7%94%A8web%E7%8E%AF%E5%A2%83%E4%BC%98%E5%8C%96/" />
<link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/color.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "常用命令收集",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://blog.0x5c0f.cc/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/"
        },"genre": "posts","keywords": "linux, 解决方案","wordcount":  2916 ,
        "url": "https://blog.0x5c0f.cc/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/","datePublished": "2019-07-23T00:00:00+00:00","dateModified": "2023-08-29T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "0x5c0f"},"authors": [{
                        "@type": "Person",
                        "name": "admin"                    
                    }],"description": "收集了一些常用和有趣的命令"
    }
    </script></head>

<body header-desktop="auto" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark'); window.theme = theme;   window.isDark = window.theme !== 'light' }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="一个曾经的小码农..."><img
        class="logo"
        loading="lazy"
        src="/icons/logo_title.png"
        srcset="/icons/logo_title.png, /icons/logo_title.png 1.5x, /icons/logo_title.png 2x"
        title="/icons/logo_title.png" ><span id="desktop-header-typeit" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/series/"> 系列 </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="一个曾经的小码农..."><img
        class="logo"
        loading="lazy"
        src="/icons/logo_title.png"
        srcset="/icons/logo_title.png, /icons/logo_title.png 1.5x, /icons/logo_title.png 2x"
        title="/icons/logo_title.png" ><span id="mobile-header-typeit" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/series/" title="">系列</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">目录</h2>
        <div class="toc-content always-active" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#统计第一列相同第二列平均值">统计第一列相同，第二列平均值</a></li>
    <li><a href="#时间段统计日志">时间段统计日志：</a></li>
    <li><a href="#按照-ip-排序">按照 ip 排序</a></li>
    <li><a href="#shell-中获取脚本绝对路径">shell 中获取脚本绝对路径</a></li>
    <li><a href="#tailf-显示高亮">tailf 显示高亮</a></li>
    <li><a href="#openssl-通过证书加密解密大文件">openssl 通过证书加密解密大文件</a></li>
    <li><a href="#免密登陆">免密登陆</a></li>
    <li><a href="#手动检测-每分钟连接次数">手动检测: 每分钟连接次数</a></li>
    <li><a href="#linux-用-tcpdump-查看-80-端口访问有哪些-ip">linux 用 tcpdump 查看 80 端口访问有哪些 IP</a></li>
    <li><a href="#查看-linux-内存占用最高的-10-个进程">查看 linux 内存占用最高的 10 个进程</a></li>
    <li><a href="#linux-查看-cpu-占用最高的-10-个进程">linux 查看 cpu 占用最高的 10 个进程</a></li>
    <li><a href="#linux-查看命令来源于那个包yum-也适用">linux 查看命令来源于那个包(yum 也适用)</a></li>
    <li><a href="#linux-查看已安装的命令原来于那个包">linux 查看已安装的命令原来于那个包</a></li>
    <li><a href="#linux-查看-rpm-包信息">linux 查看 rpm 包信息</a></li>
    <li><a href="#linux-查看-rpm-包内容">linux 查看 rpm 包内容</a></li>
    <li><a href="#linux-查看-rpm-包依赖">linux 查看 rpm 包依赖</a></li>
    <li><a href="#linux-查看-rpm-包带的执行脚本">linux 查看 rpm 包带的执行脚本</a></li>
    <li><a href="#linux-自动安装-rpm-包依赖dnf-默认已存在该功能">linux 自动安装 rpm 包依赖(dnf 默认已存在该功能)</a></li>
    <li><a href="#linux-rpm-循环安装包依赖">linux rpm 循环安装包依赖</a></li>
    <li><a href="#清除僵死进程">清除僵死进程</a></li>
    <li><a href="#lnmplamp-环境查看编译参数">LNMP/LAMP 环境查看编译参数</a></li>
    <li><a href="#让不同的进程使用不同的-cpu">让不同的进程使用不同的 cpu</a></li>
    <li><a href="#watch-监测命令运行结果">watch 监测命令运行结果</a></li>
    <li><a href="#创建一个具有特定权限的空文件">创建一个具有特定权限的空文件</a></li>
    <li><a href="#通过-sshfs-远程挂载目录">通过 sshfs 远程挂载目录</a></li>
    <li><a href="#tmpfs-一种基于内存的文件系统">tmpfs 一种基于内存的文件系统</a></li>
    <li><a href="#文件描述符相关">文件描述符相关</a></li>
    <li><a href="#字符串拆分">字符串拆分</a></li>
    <li><a href="#去除文本第一行和最后一行">去除文本第一行和最后一行</a></li>
    <li><a href="#查看当前主机类型">查看当前主机类型</a></li>
    <li><a href="#find-查看特定后缀的文件">find 查看特定后缀的文件</a></li>
    <li><a href="#shell-范围随机数">shell 范围随机数</a></li>
    <li><a href="#linux-将时间戳转换为时间">linux 将时间戳转换为时间</a></li>
    <li><a href="#linux-远程桌面连接">linux 远程桌面连接</a></li>
    <li><a href="#linux-打包文件夹为-iso-文件">linux 打包文件夹为 ISO 文件</a></li>
    <li><a href="#docker-与-iptables-只允许特定-ip-访问-docker-的服务docker-user">Docker 与 iptables 只允许特定 ip 访问 Docker 的服务(DOCKER-USER)</a></li>
    <li><a href="#openssl-公钥提取">openssl 公钥提取</a></li>
    <li><a href="#查看本地监听信息">查看本地监听信息</a></li>
    <li><a href="#获取-ping-域名的-ip">获取 ping 域名的 ip</a></li>
    <li><a href="#检查用户是否有操作-docker-权限">检查用户是否有操作 docker 权限</a></li>
    <li><a href="#分段压缩">分段压缩</a></li>
    <li><a href="#临时移动工作路径执行命令">临时移动工作路径执行命令</a></li>
    <li><a href="#mount---bind">mount &ndash;bind</a></li>
    <li><a href="#systemd-守护桌面程序">systemd 守护桌面程序</a></li>
    <li><a href="#证书相关操作">证书相关操作</a></li>
    <li><a href="#linux-端口转发">linux 端口转发</a></li>
    <li><a href="#linux-查询cpu占用过高的php-fpm进程正在执行的php脚本或者处理的事">linux 查询cpu占用过高的php-fpm进程,正在执行的php脚本或者处理的事</a></li>
    <li><a href="#查询当前目录下-md5-相同的文件">查询当前目录下 <code>md5</code> 相同的文件</a></li>
    <li><a href="#查询当前目录下-md5-等于某个值并删除移动">查询当前目录下 <code>md5</code> 等于某个值并删除/移动</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">常用命令收集</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><span class='author'><span class="author fas fa-user-circle fa-fw"></span><span class='screen-reader-text'>  </span><a href='https://blog.0x5c0f.cc/authors/admin'>0x5c0f</a></span>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/linux/"><i class="far fa-folder fa-fw"></i>Linux</a>&nbsp;<a href="/categories/%E8%BF%90%E7%BB%B4%E8%AE%B0%E4%BA%8B/"><i class="far fa-folder fa-fw"></i>运维记事</a></span>&nbsp;<span class="post-category">和</span>&nbsp;<span class="post-series">系列 <a href="/series/%E8%BF%90%E7%BB%B4%E8%AE%B0%E4%BA%8B/"><i class="far fa-list-alt fa-fw"></i>运维记事</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-07-23">2019-07-23</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2023-08-29">2023-08-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 2916 字&nbsp;<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 6 分钟&nbsp;<span id="/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/" class="leancloud_visitors" data-flag-title="常用命令收集">
                        <i class="far fa-eye fa-fw"></i>&nbsp;<span class="leancloud-visitors-count waline-pageview-count" data-path="/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/"></span>&nbsp;次阅读
                    </span>&nbsp;<span id="/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/" class="comment_count" data-flag-title="常用命令收集">
                        <i class="far fa-comments fa-fw"></i>&nbsp;<span class="waline-comment-count" id="waline-comment-count" data-path="/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/"></span>&nbsp;条评论
                    </span>&nbsp;<span>
                        <i class="fas fa-balance-scale fa-fw"></i>&nbsp;<span><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span>&nbsp;
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#统计第一列相同第二列平均值">统计第一列相同，第二列平均值</a></li>
    <li><a href="#时间段统计日志">时间段统计日志：</a></li>
    <li><a href="#按照-ip-排序">按照 ip 排序</a></li>
    <li><a href="#shell-中获取脚本绝对路径">shell 中获取脚本绝对路径</a></li>
    <li><a href="#tailf-显示高亮">tailf 显示高亮</a></li>
    <li><a href="#openssl-通过证书加密解密大文件">openssl 通过证书加密解密大文件</a></li>
    <li><a href="#免密登陆">免密登陆</a></li>
    <li><a href="#手动检测-每分钟连接次数">手动检测: 每分钟连接次数</a></li>
    <li><a href="#linux-用-tcpdump-查看-80-端口访问有哪些-ip">linux 用 tcpdump 查看 80 端口访问有哪些 IP</a></li>
    <li><a href="#查看-linux-内存占用最高的-10-个进程">查看 linux 内存占用最高的 10 个进程</a></li>
    <li><a href="#linux-查看-cpu-占用最高的-10-个进程">linux 查看 cpu 占用最高的 10 个进程</a></li>
    <li><a href="#linux-查看命令来源于那个包yum-也适用">linux 查看命令来源于那个包(yum 也适用)</a></li>
    <li><a href="#linux-查看已安装的命令原来于那个包">linux 查看已安装的命令原来于那个包</a></li>
    <li><a href="#linux-查看-rpm-包信息">linux 查看 rpm 包信息</a></li>
    <li><a href="#linux-查看-rpm-包内容">linux 查看 rpm 包内容</a></li>
    <li><a href="#linux-查看-rpm-包依赖">linux 查看 rpm 包依赖</a></li>
    <li><a href="#linux-查看-rpm-包带的执行脚本">linux 查看 rpm 包带的执行脚本</a></li>
    <li><a href="#linux-自动安装-rpm-包依赖dnf-默认已存在该功能">linux 自动安装 rpm 包依赖(dnf 默认已存在该功能)</a></li>
    <li><a href="#linux-rpm-循环安装包依赖">linux rpm 循环安装包依赖</a></li>
    <li><a href="#清除僵死进程">清除僵死进程</a></li>
    <li><a href="#lnmplamp-环境查看编译参数">LNMP/LAMP 环境查看编译参数</a></li>
    <li><a href="#让不同的进程使用不同的-cpu">让不同的进程使用不同的 cpu</a></li>
    <li><a href="#watch-监测命令运行结果">watch 监测命令运行结果</a></li>
    <li><a href="#创建一个具有特定权限的空文件">创建一个具有特定权限的空文件</a></li>
    <li><a href="#通过-sshfs-远程挂载目录">通过 sshfs 远程挂载目录</a></li>
    <li><a href="#tmpfs-一种基于内存的文件系统">tmpfs 一种基于内存的文件系统</a></li>
    <li><a href="#文件描述符相关">文件描述符相关</a></li>
    <li><a href="#字符串拆分">字符串拆分</a></li>
    <li><a href="#去除文本第一行和最后一行">去除文本第一行和最后一行</a></li>
    <li><a href="#查看当前主机类型">查看当前主机类型</a></li>
    <li><a href="#find-查看特定后缀的文件">find 查看特定后缀的文件</a></li>
    <li><a href="#shell-范围随机数">shell 范围随机数</a></li>
    <li><a href="#linux-将时间戳转换为时间">linux 将时间戳转换为时间</a></li>
    <li><a href="#linux-远程桌面连接">linux 远程桌面连接</a></li>
    <li><a href="#linux-打包文件夹为-iso-文件">linux 打包文件夹为 ISO 文件</a></li>
    <li><a href="#docker-与-iptables-只允许特定-ip-访问-docker-的服务docker-user">Docker 与 iptables 只允许特定 ip 访问 Docker 的服务(DOCKER-USER)</a></li>
    <li><a href="#openssl-公钥提取">openssl 公钥提取</a></li>
    <li><a href="#查看本地监听信息">查看本地监听信息</a></li>
    <li><a href="#获取-ping-域名的-ip">获取 ping 域名的 ip</a></li>
    <li><a href="#检查用户是否有操作-docker-权限">检查用户是否有操作 docker 权限</a></li>
    <li><a href="#分段压缩">分段压缩</a></li>
    <li><a href="#临时移动工作路径执行命令">临时移动工作路径执行命令</a></li>
    <li><a href="#mount---bind">mount &ndash;bind</a></li>
    <li><a href="#systemd-守护桌面程序">systemd 守护桌面程序</a></li>
    <li><a href="#证书相关操作">证书相关操作</a></li>
    <li><a href="#linux-端口转发">linux 端口转发</a></li>
    <li><a href="#linux-查询cpu占用过高的php-fpm进程正在执行的php脚本或者处理的事">linux 查询cpu占用过高的php-fpm进程,正在执行的php脚本或者处理的事</a></li>
    <li><a href="#查询当前目录下-md5-相同的文件">查询当前目录下 <code>md5</code> 相同的文件</a></li>
    <li><a href="#查询当前目录下-md5-等于某个值并删除移动">查询当前目录下 <code>md5</code> 等于某个值并删除/移动</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><div class="details admonition warning open">
                <div class="details-summary admonition-title">
                    <i class="icon fas fa-exclamation-triangle fa-fwwarning"></i>警告<i class="details-icon fas fa-angle-right fa-fw"></i>
                </div>
                <div class="details-content">
                    <div class="admonition-content">
                        本文最后更新于 <span class="timeago" datetime="2023-08-29T00:00:00" title="August 29, 2023">2023-08-29</span>，文中内容可能已过时。</div>
                </div>
            </div><p>引入一个更为专业的命令收集站点 :</p>
<blockquote>
<p><a href="https://www.commandlinefu.com/commands/browse" target="_blank" rel="noopener noreferrer">https://www.commandlinefu.com/commands/browse</a></p>
</blockquote>
<h1 id="统计第一列相同第二列平均值" class="headerLink">
    <a href="#%e7%bb%9f%e8%ae%a1%e7%ac%ac%e4%b8%80%e5%88%97%e7%9b%b8%e5%90%8c%e7%ac%ac%e4%ba%8c%e5%88%97%e5%b9%b3%e5%9d%87%e5%80%bc" class="header-mark"></a>统计第一列相同，第二列平均值</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat xxx <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=$2;c[$1]++}END{l=asorti(a,b);for(i=1;i&lt;=l;i++)print b[i],a[b[i]]/c[b[i]]}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="时间段统计日志" class="headerLink">
    <a href="#%e6%97%b6%e9%97%b4%e6%ae%b5%e7%bb%9f%e8%ae%a1%e6%97%a5%e5%bf%97" class="header-mark"></a>时间段统计日志：</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sed -n <span class="s1">&#39;/2018:02:30/,/2018:03:00/p&#39;</span> www.log <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=1;} END {for(i in a){print a[i]&#34; &#34;i;}}&#39;</span> <span class="p">|</span>sort -t <span class="s2">&#34; &#34;</span> -k <span class="m">1</span> -n
</span></span><span class="line"><span class="cl">sed -n <span class="s1">&#39;/2018:01:50/,/2018:02:00/p&#39;</span> www.log <span class="p">|</span>grep <span class="s2">&#34;list?&#34;</span> <span class="p">|</span>awk <span class="s1">&#39;{a[$1]+=1;} END {for(i in a){print a[i]&#34; &#34;i;}}&#39;</span> <span class="p">|</span>sort -t <span class="s2">&#34; &#34;</span> -k <span class="m">1</span> -n
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="按照-ip-排序" class="headerLink">
    <a href="#%e6%8c%89%e7%85%a7-ip-%e6%8e%92%e5%ba%8f" class="header-mark"></a>按照 ip 排序</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 升序</span>
</span></span><span class="line"><span class="cl">sort -t<span class="s1">&#39;.&#39;</span> -k1,1n -k2,2n -k3,3n -k4,4n ip.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 降序</span>
</span></span><span class="line"><span class="cl">sort -t<span class="s1">&#39;.&#39;</span> -k1,1nr -k2,2nr -k3,3nr -k4,4nr ip.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="shell-中获取脚本绝对路径" class="headerLink">
    <a href="#shell-%e4%b8%ad%e8%8e%b7%e5%8f%96%e8%84%9a%e6%9c%ac%e7%bb%9d%e5%af%b9%e8%b7%af%e5%be%84" class="header-mark"></a>shell 中获取脚本绝对路径</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">SHELL_DIR</span><span class="o">=</span><span class="k">$(</span>dirname <span class="k">$(</span>readlink -f <span class="s2">&#34;</span><span class="nv">$0</span><span class="s2">&#34;</span><span class="k">))</span>
</span></span><span class="line"><span class="cl"><span class="nv">SHELL_DIR</span><span class="o">=</span><span class="k">$(</span><span class="nb">cd</span> <span class="sb">`</span>dirname <span class="nv">$0</span><span class="sb">`</span><span class="p">;</span> <span class="nb">pwd</span><span class="k">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="tailf-显示高亮" class="headerLink">
    <a href="#tailf-%e6%98%be%e7%a4%ba%e9%ab%98%e4%ba%ae" class="header-mark"></a>tailf 显示高亮</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> tail -f www.log <span class="p">|</span> perl -pe <span class="s1">&#39;s/(\/pattern1\/pattern2)/\e[1;31m$1\e[0m/g&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> tail -f www.log <span class="p">|</span>grep --color -E <span class="s1">&#39;pattern|$&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="openssl-通过证书加密解密大文件" class="headerLink">
    <a href="#openssl-%e9%80%9a%e8%bf%87%e8%af%81%e4%b9%a6%e5%8a%a0%e5%af%86%e8%a7%a3%e5%af%86%e5%a4%a7%e6%96%87%e4%bb%b6" class="header-mark"></a>openssl 通过证书加密解密大文件</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir /etc/encrypt <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /etc/encrypt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">openssl genrsa -out private.pem <span class="m">2048</span>
</span></span><span class="line"><span class="cl">openssl rsa -in private.pem -outform PEM -pubout -out public.pem
</span></span><span class="line"><span class="cl">openssl rand -base64 <span class="m">32</span> &gt; key.bin   <span class="c1"># 远程传输建议每次都新建</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 加密</span>
</span></span><span class="line"><span class="cl">openssl rsautl -encrypt -pubin -inkey /etc/encrypt/public.pem -in /etc/encrypt/key.bin -out /etc/encrypt/key.bin.enc
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -a -pbkdf2 -salt -in  filename.gz -out filename.gz.enc -k <span class="k">$(</span>cat /etc/encrypt/key.bin<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 解密</span>
</span></span><span class="line"><span class="cl">openssl rsautl -decrypt -inkey private.pem -in key.bin.enc -out key.bin
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -d -a -pbkdf2 -in filename.gz.enc -out filename.gz -k <span class="k">$(</span>cat key.bin<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 加密</span>
</span></span><span class="line"><span class="cl">tar -czf - * <span class="p">|</span>  openssl aes-256-cfb -salt -k <span class="s2">&#34;8CASiU6zxAWy9QZ8wj+MgIzqHsBnXjgkHNvWeJ0urHw=&#34;</span> -out ssh.key.pem.enc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">openssl aes-256-cfb -d -salt -in ssh.key.pem.enc -out ssh_key.pem.tar.gz
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="免密登陆" class="headerLink">
    <a href="#%e5%85%8d%e5%af%86%e7%99%bb%e9%99%86" class="header-mark"></a>免密登陆</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 172.16.10.11 无密码登陆 172.16.10.12</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 172.16.10.11 生成秘钥</span>
</span></span><span class="line"><span class="cl"><span class="c1"># rsa 默认 2048</span>
</span></span><span class="line"><span class="cl">ssh-keygen -t rsa -b <span class="m">2048</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  然后一直回车，可以设置认证密码</span>
</span></span><span class="line"><span class="cl"><span class="c1"># id_rsa 私钥(不要外传)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># id_rsa.pub (公钥导入本地authorized_keys(600)中，将私钥传给客户端，客户端即可通过私钥连接当前服务器)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 将本地的秘钥复制到服务器上就可以了,或者拷贝追加到服务器的authorized_keys文件中，即可本地登陆远程主机</span>
</span></span><span class="line"><span class="cl">ssh-copy-id -i ~/.ssh/id_rsa.pub root@172.16.10.12
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="手动检测-每分钟连接次数" class="headerLink">
    <a href="#%e6%89%8b%e5%8a%a8%e6%a3%80%e6%b5%8b-%e6%af%8f%e5%88%86%e9%92%9f%e8%bf%9e%e6%8e%a5%e6%ac%a1%e6%95%b0" class="header-mark"></a>手动检测: 每分钟连接次数</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">netstat -ntu <span class="p">|</span> awk <span class="s1">&#39;{print $5}&#39;</span> <span class="p">|</span>cut -d: -f1<span class="p">|</span>sort<span class="p">|</span>uniq -c <span class="p">|</span>sort -n
</span></span><span class="line"><span class="cl">netstat -an <span class="p">|</span>grep ^tcp.*:80<span class="p">|</span>egrep -v <span class="s1">&#39;LISTEN|127.0.0.1&#39;</span><span class="p">|</span>awk -F<span class="s2">&#34;[ ]+|[:]&#34;</span> <span class="s1">&#39;{print $6}&#39;</span><span class="p">|</span>sort<span class="p">|</span>uniq -c<span class="p">|</span>sort -rn
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-用-tcpdump-查看-80-端口访问有哪些-ip" class="headerLink">
    <a href="#linux-%e7%94%a8-tcpdump-%e6%9f%a5%e7%9c%8b-80-%e7%ab%af%e5%8f%a3%e8%ae%bf%e9%97%ae%e6%9c%89%e5%93%aa%e4%ba%9b-ip" class="header-mark"></a>linux 用 tcpdump 查看 80 端口访问有哪些 IP</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tcpdump -i eth0 -tnn dst port <span class="m">80</span> -c 1000<span class="p">|</span>awk -F<span class="s2">&#34;.&#34;</span> <span class="s1">&#39;{print $1&#34;.&#34;$2&#34;.&#34;$3&#34;.&#34;$4}&#39;</span><span class="p">|</span>sort<span class="p">|</span>uniq -c<span class="p">|</span>sort -rn<span class="p">|</span>head -n20
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看-linux-内存占用最高的-10-个进程" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b-linux-%e5%86%85%e5%ad%98%e5%8d%a0%e7%94%a8%e6%9c%80%e9%ab%98%e7%9a%84-10-%e4%b8%aa%e8%bf%9b%e7%a8%8b" class="header-mark"></a>查看 linux 内存占用最高的 10 个进程</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux<span class="p">|</span>head -1 <span class="o">&amp;&amp;</span> ps aux<span class="p">|</span>grep -v PID<span class="p">|</span>sort -rn -k +4<span class="p">|</span>head
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-cpu-占用最高的-10-个进程" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b-cpu-%e5%8d%a0%e7%94%a8%e6%9c%80%e9%ab%98%e7%9a%84-10-%e4%b8%aa%e8%bf%9b%e7%a8%8b" class="header-mark"></a>linux 查看 cpu 占用最高的 10 个进程</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux<span class="p">|</span>head -1<span class="p">;</span>ps aux<span class="p">|</span>grep -v PID<span class="p">|</span>sort -rn -k +3<span class="p">|</span>head
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看命令来源于那个包yum-也适用" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b%e5%91%bd%e4%bb%a4%e6%9d%a5%e6%ba%90%e4%ba%8e%e9%82%a3%e4%b8%aa%e5%8c%85yum-%e4%b9%9f%e9%80%82%e7%94%a8" class="header-mark"></a>linux 查看命令来源于那个包(yum 也适用)</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf provides htop
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看已安装的命令原来于那个包" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b%e5%b7%b2%e5%ae%89%e8%a3%85%e7%9a%84%e5%91%bd%e4%bb%a4%e5%8e%9f%e6%9d%a5%e4%ba%8e%e9%82%a3%e4%b8%aa%e5%8c%85" class="header-mark"></a>linux 查看已安装的命令原来于那个包</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qf /usr/bin/htop
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包信息" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e4%bf%a1%e6%81%af" class="header-mark"></a>linux 查看 rpm 包信息</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpi xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包内容" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e5%86%85%e5%ae%b9" class="header-mark"></a>linux 查看 rpm 包内容</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpl xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包依赖" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e4%be%9d%e8%b5%96" class="header-mark"></a>linux 查看 rpm 包依赖</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qpR xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查看-rpm-包带的执行脚本" class="headerLink">
    <a href="#linux-%e6%9f%a5%e7%9c%8b-rpm-%e5%8c%85%e5%b8%a6%e7%9a%84%e6%89%a7%e8%a1%8c%e8%84%9a%e6%9c%ac" class="header-mark"></a>linux 查看 rpm 包带的执行脚本</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rpm -qp --scripts xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-自动安装-rpm-包依赖dnf-默认已存在该功能" class="headerLink">
    <a href="#linux-%e8%87%aa%e5%8a%a8%e5%ae%89%e8%a3%85-rpm-%e5%8c%85%e4%be%9d%e8%b5%96dnf-%e9%bb%98%e8%ae%a4%e5%b7%b2%e5%ad%98%e5%9c%a8%e8%af%a5%e5%8a%9f%e8%83%bd" class="header-mark"></a>linux 自动安装 rpm 包依赖(dnf 默认已存在该功能)</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum -y localinstall xxx.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-rpm-循环安装包依赖" class="headerLink">
    <a href="#linux-rpm-%e5%be%aa%e7%8e%af%e5%ae%89%e8%a3%85%e5%8c%85%e4%be%9d%e8%b5%96" class="header-mark"></a>linux rpm 循环安装包依赖</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 关于循环安装是指的是主rpm包的所有的依赖包在同一目录下，会自动安装其依赖后在安装主rpm包，(此方法缺陷较大)</span>
</span></span><span class="line"><span class="cl">rpm -ivh --aid  *.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="清除僵死进程" class="headerLink">
    <a href="#%e6%b8%85%e9%99%a4%e5%83%b5%e6%ad%bb%e8%bf%9b%e7%a8%8b" class="header-mark"></a>清除僵死进程</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps -eal <span class="p">|</span> awk <span class="s1">&#39;{ if ($2 == &#34;Z&#34;) {print $4}}&#39;</span> <span class="p">|</span> <span class="nb">kill</span> -9
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="lnmplamp-环境查看编译参数" class="headerLink">
    <a href="#lnmplamp-%e7%8e%af%e5%a2%83%e6%9f%a5%e7%9c%8b%e7%bc%96%e8%af%91%e5%8f%82%e6%95%b0" class="header-mark"></a>LNMP/LAMP 环境查看编译参数</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># nginx</span>
</span></span><span class="line"><span class="cl">/pathto/nginx/sbin/nginx -V
</span></span><span class="line"><span class="cl"><span class="c1"># apache</span>
</span></span><span class="line"><span class="cl">/pathto/apache/build/config.nice
</span></span><span class="line"><span class="cl"><span class="c1"># mysql</span>
</span></span><span class="line"><span class="cl">grep CONFIGURE_LINE /usr/bin/mysqlbug
</span></span><span class="line"><span class="cl"><span class="c1"># php</span>
</span></span><span class="line"><span class="cl">/pathto/php/bin/php -i<span class="p">|</span>grep configure
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="让不同的进程使用不同的-cpu" class="headerLink">
    <a href="#%e8%ae%a9%e4%b8%8d%e5%90%8c%e7%9a%84%e8%bf%9b%e7%a8%8b%e4%bd%bf%e7%94%a8%e4%b8%8d%e5%90%8c%e7%9a%84-cpu" class="header-mark"></a>让不同的进程使用不同的 cpu</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># taskset -c,--cpu-list command</span>
</span></span><span class="line"><span class="cl">taskset -c 0,1,2,3 /etc/init.d/mysql start
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="watch-监测命令运行结果" class="headerLink">
    <a href="#watch-%e7%9b%91%e6%b5%8b%e5%91%bd%e4%bb%a4%e8%bf%90%e8%a1%8c%e7%bb%93%e6%9e%9c" class="header-mark"></a>watch 监测命令运行结果</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 类似tailf,但是针对命令</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 查看当前目录内容变化</span>
</span></span><span class="line"><span class="cl"><span class="c1"># watch ls</span>
</span></span><span class="line"><span class="cl"><span class="c1"># watch &#34;netstat -ntu | awk &#39;{print $5}&#39; |cut -d: -f1|sort|uniq -c |sort -n&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="创建一个具有特定权限的空文件" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%85%b7%e6%9c%89%e7%89%b9%e5%ae%9a%e6%9d%83%e9%99%90%e7%9a%84%e7%a9%ba%e6%96%87%e4%bb%b6" class="header-mark"></a>创建一个具有特定权限的空文件</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#install -b -m &lt;权限&gt; &lt;来源&gt; &lt;目标&gt;</span>
</span></span><span class="line"><span class="cl">install -b -m <span class="m">777</span> /dev/null file.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="通过-sshfs-远程挂载目录" class="headerLink">
    <a href="#%e9%80%9a%e8%bf%87-sshfs-%e8%bf%9c%e7%a8%8b%e6%8c%82%e8%bd%bd%e7%9b%ae%e5%bd%95" class="header-mark"></a>通过 sshfs 远程挂载目录</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install sshfs
</span></span><span class="line"><span class="cl"><span class="c1"># mount</span>
</span></span><span class="line"><span class="cl">sshfs -o reconnect,_netdev,user,idmap<span class="o">=</span>user,identityfile<span class="o">=</span>/pathto/id_rsa,default_permissions  user@host:/path  /mnt/pathto
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/fstab</span>
</span></span><span class="line"><span class="cl">user@host:/path /mnt/pathto fuse.sshfs noauto,x-systemd.automount,reconnect,_netdev,user,idmap<span class="o">=</span>user,identityfile<span class="o">=</span>/pathto/id_rsa,allow_other,default_permissions <span class="m">0</span> <span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="tmpfs-一种基于内存的文件系统" class="headerLink">
    <a href="#tmpfs-%e4%b8%80%e7%a7%8d%e5%9f%ba%e4%ba%8e%e5%86%85%e5%ad%98%e7%9a%84%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f" class="header-mark"></a>tmpfs 一种基于内存的文件系统</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mount -t tmpfs -o <span class="nv">size</span><span class="o">=</span>1024M tmpfs /mnt/usb02
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="文件描述符相关" class="headerLink">
    <a href="#%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6%e7%9b%b8%e5%85%b3" class="header-mark"></a>文件描述符相关</h1><details>
<summary>点击展开详细内容</summary>
<ol>
<li>
<p>系统最大打开的文件描述符数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /proc/sys/fs/file-nr
</span></span><span class="line"><span class="cl">10848	0	<span class="m">6815744</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第一个值: 当前系统已分配使用的打开文件描述符数</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第二个值: 为分配后已释放的（目前已不再使用）</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 第三个值: 等于/proc/sys/fs/file-max(打开的最大fd数量)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取打开的文件数量</p>
<ul>
<li>
<p>获取整个系统打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lsof <span class="p">|</span> wc -l
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个用户打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lsof -u <span class="nb">test</span> <span class="p">|</span>wc -l
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个程序打开的文件数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> i in <span class="sb">`</span>pidof dotnet<span class="sb">`</span><span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    lsof -p <span class="s2">&#34;</span><span class="nv">$i</span><span class="s2">&#34;</span> <span class="p">|</span> wc -l <span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>获取某个程序打开的文件描述符数量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> i in <span class="sb">`</span>pidof dotnet<span class="sb">`</span> <span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$i</span><span class="s2"> : &#34;</span><span class="k">$(</span>ll /proc/<span class="nv">$i</span>/fd<span class="p">|</span>wc -l<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>查看系统里占用 fd 最多的进程</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">    lsof -n <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nr <span class="p">|</span>head -n <span class="m">10</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#第一列是占用的fd数量，第二列是进程的pid</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<h1 id="字符串拆分" class="headerLink">
    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8b%86%e5%88%86" class="header-mark"></a>字符串拆分</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;hello&#34;</span> <span class="p">|</span>awk -F <span class="s1">&#39;&#39;</span> <span class="s1">&#39;{for(i=1;i&lt;=NF;i++)print $i}&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#echo &#34;hello&#34; |awk &#39;{split($0,a,&#34;&#39;&#39;&#34;);for(v in a)print a[v]}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="去除文本第一行和最后一行" class="headerLink">
    <a href="#%e5%8e%bb%e9%99%a4%e6%96%87%e6%9c%ac%e7%ac%ac%e4%b8%80%e8%a1%8c%e5%92%8c%e6%9c%80%e5%90%8e%e4%b8%80%e8%a1%8c" class="header-mark"></a>去除文本第一行和最后一行</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">seq <span class="m">5</span> <span class="p">|</span>awk<span class="s1">&#39;NR&gt;2{print s}{s=$0}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看当前主机类型" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b%e5%bd%93%e5%89%8d%e4%b8%bb%e6%9c%ba%e7%b1%bb%e5%9e%8b" class="header-mark"></a>查看当前主机类型</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat /sys/class/dmi/id/product_name
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="find-查看特定后缀的文件" class="headerLink">
    <a href="#find-%e6%9f%a5%e7%9c%8b%e7%89%b9%e5%ae%9a%e5%90%8e%e7%bc%80%e7%9a%84%e6%96%87%e4%bb%b6" class="header-mark"></a>find 查看特定后缀的文件</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># find ./ -regex &#34;.*\.tar.gz\|.*\.7z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># find ./ -type f -regextype posix-extended -regex &#34;.*\.(tar.gz|7z)&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="shell-范围随机数" class="headerLink">
    <a href="#shell-%e8%8c%83%e5%9b%b4%e9%9a%8f%e6%9c%ba%e6%95%b0" class="header-mark"></a>shell 范围随机数</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># echo $((RANDOM % (max - min) + min))</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="k">$((</span>RANDOM <span class="o">%</span> <span class="o">(</span><span class="m">99</span> <span class="o">-</span> <span class="m">80</span><span class="o">)</span> <span class="o">+</span> <span class="m">80</span><span class="k">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-将时间戳转换为时间" class="headerLink">
    <a href="#linux-%e5%b0%86%e6%97%b6%e9%97%b4%e6%88%b3%e8%bd%ac%e6%8d%a2%e4%b8%ba%e6%97%b6%e9%97%b4" class="header-mark"></a>linux 将时间戳转换为时间</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">date +<span class="s2">&#34;%F_%T&#34;</span> -d<span class="nv">$timestamp</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-远程桌面连接" class="headerLink">
    <a href="#linux-%e8%bf%9c%e7%a8%8b%e6%a1%8c%e9%9d%a2%e8%bf%9e%e6%8e%a5" class="header-mark"></a>linux 远程桌面连接</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># freerdp-2.2.0-1.fc32.x86_64</span>
</span></span><span class="line"><span class="cl">xfreerdp /v:&lt;hostip&gt; /u:&lt;username&gt; /drive:shares,&lt;本地目录&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-打包文件夹为-iso-文件" class="headerLink">
    <a href="#linux-%e6%89%93%e5%8c%85%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%ba-iso-%e6%96%87%e4%bb%b6" class="header-mark"></a>linux 打包文件夹为 ISO 文件</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkisofs -o file.iso -J -R -V <span class="m">01</span> file/
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="docker-与-iptables-只允许特定-ip-访问-docker-的服务docker-user" class="headerLink">
    <a href="#docker-%e4%b8%8e-iptables-%e5%8f%aa%e5%85%81%e8%ae%b8%e7%89%b9%e5%ae%9a-ip-%e8%ae%bf%e9%97%ae-docker-%e7%9a%84%e6%9c%8d%e5%8a%a1docker-user" class="header-mark"></a>Docker 与 iptables 只允许特定 ip 访问 Docker 的服务(DOCKER-USER)</h1><blockquote>
<p><a href="https://blog.csdn.net/Liv2005/article/details/112850208" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Liv2005/article/details/112850208</a></p>
</blockquote>
<blockquote>
<p><a href="https://docs.docker.com/network/iptables/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/network/iptables/</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 允许172.31.10.0/24网段访问docker网络，eth0 为服务器对外通信网卡 </span>
</span></span><span class="line"><span class="cl">iptables -I DOCKER-USER -i eth0 ! -s 172.31.10.0/24 -j DROP
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="openssl-公钥提取" class="headerLink">
    <a href="#openssl-%e5%85%ac%e9%92%a5%e6%8f%90%e5%8f%96" class="header-mark"></a>openssl 公钥提取</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 从证书中提取</span>
</span></span><span class="line"><span class="cl">openssl x509 -in domain.pem -pubkey  -noout &gt; public.pem
</span></span><span class="line"><span class="cl"><span class="c1"># 从私钥中提取</span>
</span></span><span class="line"><span class="cl">openssl rsa -in private.key -pubout &gt; public.pem
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查看本地监听信息" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b%e6%9c%ac%e5%9c%b0%e7%9b%91%e5%90%ac%e4%bf%a1%e6%81%af" class="header-mark"></a>查看本地监听信息</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /proc/net/tcp <span class="p">|</span> grep <span class="s2">&#34; 0A &#34;</span> <span class="p">|</span> sed <span class="s1">&#39;s/^[^:]*: \(..\)\(..\)\(..\)\(..\):\(....\).*/echo $((0x\4)).$((0x\3)).$((0x\2)).$((0x\1)):$((0x\5))/g&#39;</span> <span class="p">|</span> bash
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="获取-ping-域名的-ip" class="headerLink">
    <a href="#%e8%8e%b7%e5%8f%96-ping-%e5%9f%9f%e5%90%8d%e7%9a%84-ip" class="header-mark"></a>获取 ping 域名的 ip</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ping www.baidu.com -c <span class="m">1</span> -w <span class="m">1</span> <span class="p">|</span> sed <span class="s1">&#39;1{s/[^(]*(//;s/).*//;q}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="检查用户是否有操作-docker-权限" class="headerLink">
    <a href="#%e6%a3%80%e6%9f%a5%e7%94%a8%e6%88%b7%e6%98%af%e5%90%a6%e6%9c%89%e6%93%8d%e4%bd%9c-docker-%e6%9d%83%e9%99%90" class="header-mark"></a>检查用户是否有操作 docker 权限</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo -u zabbix curl --unix-socket /var/run/docker.sock --no-buffer -XGET v1.24/_ping
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="分段压缩" class="headerLink">
    <a href="#%e5%88%86%e6%ae%b5%e5%8e%8b%e7%bc%a9" class="header-mark"></a>分段压缩</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 压缩</span>
</span></span><span class="line"><span class="cl">$&gt; tar czf - /pathto/dir01 /pathto/dir02 <span class="p">|</span>split -d -b 2G - file.tgz.
</span></span><span class="line"><span class="cl"><span class="c1"># 解压</span>
</span></span><span class="line"><span class="cl">$&gt; cat file.tgz* <span class="p">|</span> tar xz 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 压缩</span>
</span></span><span class="line"><span class="cl">$&gt; zip -s 100m -r myarchive.zip myfolder/
</span></span><span class="line"><span class="cl"><span class="c1"># 解压</span>
</span></span><span class="line"><span class="cl">$&gt; unzip myarchive.zip
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="临时移动工作路径执行命令" class="headerLink">
    <a href="#%e4%b8%b4%e6%97%b6%e7%a7%bb%e5%8a%a8%e5%b7%a5%e4%bd%9c%e8%b7%af%e5%be%84%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4" class="header-mark"></a>临时移动工作路径执行命令</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$&gt; (cd /some/other/dir &amp;&amp; other-command)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="mount---bind" class="headerLink">
    <a href="#mount---bind" class="header-mark"></a>mount &ndash;bind</h1><blockquote>
<p>详解参见: <a href="https://www.modb.pro/db/248315" target="_blank" rel="noopener noreferrer">https://www.modb.pro/db/248315</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$&gt; mount -o <span class="nb">bind</span> olddir newdir
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ro: 只读  rw: 只写</span>
</span></span><span class="line"><span class="cl">olddir newdir none defaults,ro,bind <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># systemd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/systemd/system/sftpdir-mnt.mount</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>Unit<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">SourcePath</span><span class="o">=</span>/etc/fstab
</span></span><span class="line"><span class="cl"><span class="nv">Documentation</span><span class="o">=</span>man:fstab<span class="o">(</span>5<span class="o">)</span> man:systemd-fstab-generator<span class="o">(</span>8<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">Before</span><span class="o">=</span>local-fs.target
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Mount<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">What</span><span class="o">=</span>olddir
</span></span><span class="line"><span class="cl"><span class="nv">Where</span><span class="o">=</span>newdir
</span></span><span class="line"><span class="cl"><span class="nv">Type</span><span class="o">=</span>none
</span></span><span class="line"><span class="cl"><span class="nv">Options</span><span class="o">=</span>defaults,rw,bind
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Install<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="systemd-守护桌面程序" class="headerLink">
    <a href="#systemd-%e5%ae%88%e6%8a%a4%e6%a1%8c%e9%9d%a2%e7%a8%8b%e5%ba%8f" class="header-mark"></a>systemd 守护桌面程序</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 以最新的QQ Linux版 3.0.0 为例，fedora33 下经常崩溃，用systemd守护其运行，在QQ崩溃时自动重启QQ</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 运行以下命令以启动systemd守护进程 </span>
</span></span><span class="line"><span class="cl">$&gt; /usr/bin/systemd-run --property <span class="nv">Restart</span><span class="o">=</span>on-failure --user /opt/QQ/qq
</span></span><span class="line"><span class="cl"><span class="c1"># 替换默认 /usr/share/applications/qq.desktop的执行命令 Exec=/usr/bin/systemd-run --property Restart=on-failure --user /opt/QQ/qq</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 日志检查，可以定位当前用户的日志看(或者 systemctl --user list-units run-*|grep qq，查询到systemd-run启动的service，直接定位)</span>
</span></span><span class="line"><span class="cl">$&gt; journalctl -f -u user@<span class="si">${</span><span class="nv">UID</span><span class="si">}</span>.service
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="证书相关操作" class="headerLink">
    <a href="#%e8%af%81%e4%b9%a6%e7%9b%b8%e5%85%b3%e6%93%8d%e4%bd%9c" class="header-mark"></a>证书相关操作</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#CA合并</span>
</span></span><span class="line"><span class="cl"><span class="c1">#厂商提供的cer文件，全部合并为后缀为pem的文件，并将域的cer放在文件最前面,crt 在后面</span>
</span></span><span class="line"><span class="cl"><span class="c1">#nginx导入key和pem即可</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 查看远程证书相关信息  </span>
</span></span><span class="line"><span class="cl">$&gt; <span class="nb">echo</span> <span class="p">|</span> openssl s_client -connect tools.example.com:443 2&gt;<span class="p">&amp;</span>- <span class="p">|</span> sed -ne <span class="s1">&#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39;</span> &gt; remote-cert.pem <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        <span class="o">&amp;&amp;</span> openssl x509 -in remote-cert.pem -text <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        <span class="o">&amp;&amp;</span> rm remote-cert.pem
</span></span><span class="line"><span class="cl"><span class="c1">#     查看证书到期时间       </span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &amp;&amp; openssl x509 -in remote-cert.pem -enddate -noout      </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl">$&gt; openssl s_client -showcerts -connect tools.example.com:443 &lt;/dev/null <span class="p">|</span> openssl x509 -inform PEM -noout -text     
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##  CA证书取消密码</span>
</span></span><span class="line"><span class="cl">$&gt; openssl rsa -in &lt;ca-private-key-file&gt; -out &lt;ca-private-key-file&gt;.enc
</span></span><span class="line"><span class="cl"><span class="c1">##  CA证书添加密码</span>
</span></span><span class="line"><span class="cl">$&gt; openssl rsa -des3 -in &lt;ca-private-key-file&gt; -out &lt;ca-private-key-file&gt;.enc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 证书生成 </span>
</span></span><span class="line"><span class="cl"><span class="c1">## 创建ca私钥</span>
</span></span><span class="line"><span class="cl">$&gt; openssl genrsa -des3 -out ca.key <span class="m">4096</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 创建ca证书</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /C=CN：证书持有者所在国家的两字母代码</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /ST=CQ：证书持有者所在省/直辖市/自治区的名称或缩写</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /O=example：证书持有者的组织或公司名称</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /CN=example：证书持有者的通用名称（Common Name），一般为服务器的域名或客户端的用户名</span>
</span></span><span class="line"><span class="cl"><span class="c1">### /emailAddress=mail@example.com：证书持有者的电子邮件地址。</span>
</span></span><span class="line"><span class="cl">$&gt; openssl req -utf8 -x509 -new -nodes -key ca.key -sha512 -days <span class="m">18250</span> -out ca.pem -subj <span class="s2">&#34;/C=CN/ST=CQ/O=example/CN=example/emailAddress=mail@example.com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建服务器私钥</span>
</span></span><span class="line"><span class="cl">$&gt; openssl genrsa -out server.key <span class="m">4096</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建域名csr</span>
</span></span><span class="line"><span class="cl">$&gt; openssl req -new -key server.key -out server.csr -subj <span class="s2">&#34;/C=CN/ST=CQ/O=0x5c0f/CN=example.com/emailAddress=mail@example.com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建扩展</span>
</span></span><span class="line"><span class="cl">$&gt; cat &gt; server.ext <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">authorityKeyIdentifier=keyid,issuer
</span></span></span><span class="line"><span class="cl"><span class="s">basicConstraints=CA:FALSE
</span></span></span><span class="line"><span class="cl"><span class="s">keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
</span></span></span><span class="line"><span class="cl"><span class="s">extendedKeyUsage = serverAuth, clientAuth, codeSigning
</span></span></span><span class="line"><span class="cl"><span class="s">subjectAltName = @alt_names
</span></span></span><span class="line"><span class="cl"><span class="s">[alt_names]
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.1 = *.example.com
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.2 = *.example.cn
</span></span></span><span class="line"><span class="cl"><span class="s">DNS.3 = localhost
</span></span></span><span class="line"><span class="cl"><span class="s">IP.1 = 127.0.0.1
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 生成域名证书</span>
</span></span><span class="line"><span class="cl">$&gt; openssl x509 -req -in server.csr -CA ca.pem -CAkey ca.key -CAcreateserial -out server.crt -days <span class="m">1825</span> -sha512 -extfile server.ext
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-端口转发" class="headerLink">
    <a href="#linux-%e7%ab%af%e5%8f%a3%e8%bd%ac%e5%8f%91" class="header-mark"></a>linux 端口转发</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># linux 下端口转发</span>
</span></span><span class="line"><span class="cl">$&gt; <span class="nb">echo</span> <span class="m">1</span> &gt;/proc/sys/net/ipv4/ip_forward
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A POSTROUTING -j MASQUERADE
</span></span><span class="line"><span class="cl">$&gt; iptables -A FORWARD -i <span class="o">[</span>内网网卡名称<span class="o">]</span> -j ACCEPT
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A POSTROUTING -s <span class="o">[</span>内网网段<span class="o">]</span> -o <span class="o">[</span>外网网卡名称<span class="o">]</span> -j MASQUERADE
</span></span><span class="line"><span class="cl">$&gt; iptables -t nat -A PREROUTING -p tcp -m tcp --dport <span class="o">[</span>外网端口<span class="o">]</span> -j DNAT --to-destination <span class="o">[</span>内网地址<span class="o">]</span>:<span class="o">[</span>内网端口<span class="o">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux-查询cpu占用过高的php-fpm进程正在执行的php脚本或者处理的事" class="headerLink">
    <a href="#linux-%e6%9f%a5%e8%af%a2cpu%e5%8d%a0%e7%94%a8%e8%bf%87%e9%ab%98%e7%9a%84php-fpm%e8%bf%9b%e7%a8%8b%e6%ad%a3%e5%9c%a8%e6%89%a7%e8%a1%8c%e7%9a%84php%e8%84%9a%e6%9c%ac%e6%88%96%e8%80%85%e5%a4%84%e7%90%86%e7%9a%84%e4%ba%8b" class="header-mark"></a>linux 查询cpu占用过高的php-fpm进程,正在执行的php脚本或者处理的事</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. 通过top找到正在消耗 CPU 的 php-fpm 进程的 PID </span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2. 使用 strace 命令跟踪该进程：</span>
</span></span><span class="line"><span class="cl">$&gt; strace -p &lt;PID&gt; -e <span class="nv">trace</span><span class="o">=</span>open,execve,stat
</span></span><span class="line"><span class="cl"><span class="c1"># 3. 在输出中查找正在执行的 PHP 脚本</span>
</span></span><span class="line"><span class="cl">$&gt; strace -p &lt;PID&gt; -e <span class="nv">trace</span><span class="o">=</span>open,execve,stat 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> grep <span class="s1">&#39;\.php&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查询当前目录下-md5-相同的文件" class="headerLink">
    <a href="#%e6%9f%a5%e8%af%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b-md5-%e7%9b%b8%e5%90%8c%e7%9a%84%e6%96%87%e4%bb%b6" class="header-mark"></a>查询当前目录下 <code>md5</code> 相同的文件</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> sort <span class="p">|</span> uniq -w32 -dD
</span></span><span class="line"><span class="cl"><span class="c1"># uniq -w32 -dD：找到重复的MD5哈希，并只打印重复的行</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="查询当前目录下-md5-等于某个值并删除移动" class="headerLink">
    <a href="#%e6%9f%a5%e8%af%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b-md5-%e7%ad%89%e4%ba%8e%e6%9f%90%e4%b8%aa%e5%80%bc%e5%b9%b6%e5%88%a0%e9%99%a4%e7%a7%bb%e5%8a%a8" class="header-mark"></a>查询当前目录下 <code>md5</code> 等于某个值并删除/移动</h1><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除</span>
</span></span><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> grep <span class="s1">&#39;your_md5_value&#39;</span> <span class="p">|</span> cut -d <span class="s1">&#39; &#39;</span> -f 2- <span class="p">|</span> xargs rm
</span></span><span class="line"><span class="cl"><span class="c1"># 移动</span>
</span></span><span class="line"><span class="cl">$&gt; find . -type f -exec md5sum <span class="o">{}</span> + <span class="p">|</span> grep <span class="s1">&#39;your_md5_value&#39;</span> <span class="p">|</span> cut -d <span class="s1">&#39; &#39;</span> -f 2- <span class="p">|</span> xargs -I <span class="o">{}</span> mv <span class="o">{}</span> /path/to/destination/
</span></span></code></pre></td></tr></table>
</div>
</div></div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2023-08-29</span>
            </div>
            <div class="post-info-license"><span><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/index.md target="_blank" rel="noopener noreferrer">阅读原始文档</a>
                    </span></div>
            <div class="post-info-share"><button title="分享到 Evernote" data-sharer="evernote" data-url="https://blog.0x5c0f.cc/2019/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/" data-title="常用命令收集"><span class="fab fa-evernote fa-fw"></span></button></div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">解决方案</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/2019/shellscript%E7%9B%B8%E5%85%B3/" class="prev" rel="prev" title="Shellscript相关"><i class="fas fa-angle-left fa-fw"></i>Shellscript相关</a>
            <a href="/2020/%E5%B8%B8%E7%94%A8web%E7%8E%AF%E5%A2%83%E4%BC%98%E5%8C%96/" class="next" rel="next" title="常用web环境优化">常用web环境优化<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="waline" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://waline.js.org/">Waline</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><div id="show-ip"></div><script>fetch("https://api.myip.la").then(response => response.text()).then(data => document.getElementById("show-ip").innerHTML = data);</script><script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)})(window,document,"clarity","script","jtpwi0tdz1");</script></div><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.123.4">Hugo</a> 强力驱动&nbsp;|&nbsp;托管在 <a title="Vercel" href="https://vercel.com" target="_blank" rel="noopener noreffer">Vercel</a> & <a title="Aliyun" href="https://www.aliyun.com" target="_blank" rel="noopener noreffer">Aliyun</a> 上&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.4.0"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://tools.0x5c0f.cc" target="_blank" rel="noopener noreferrer">0x5c0f</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">渝ICP备2020011834号-2</span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="回到顶部">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/lib/waline/waline.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"waline":{"comment":true,"copyright":true,"dark":"body[theme='dark'], body[theme='black']","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.1.0/alus"],"lang":"zh-cn","login":"enable","meta":["nick","mail","link"],"pageview":true,"requiredMeta":["mail"],"serverURL":"https://talk.51ac.cc"}},"data":{"desktop-header-typeit":"0x5c0f.cc","mobile-header-typeit":"0x5c0f.cc"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":true,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":true},"sharerjs":true,"table":{"sort":true},"typeit":{"cursorChar":"_","cursorSpeed":1000,"data":{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},"duration":9000,"speed":100}};</script><script type="text/javascript" src="/lib/waline/waline.js" defer></script><script type="text/javascript" src="/js/waline.min.js" defer></script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><script type="text/javascript" src="/js/theme.min.js" defer></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-06MPV27KSD');
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-06MPV27KSD" async></script></div>
</body>

</html>
