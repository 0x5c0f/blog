<!DOCTYPE html>
<html lang="zh-cn">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  javascript 帮助类 · 一个曾经的小码农...
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="javascript 帮助类">
<meta name="keywords" content="[linux Hugo 解决方案 故障]">



  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/icons/logo_avatar.png">
  <meta name="twitter:title" content="javascript 帮助类">
  <meta name="twitter:description" content="javascript 帮助类">

<meta property="og:url" content="http://localhost:1313/2022/%E5%B8%AE%E5%8A%A9%E7%B1%BB/">
  <meta property="og:site_name" content="一个曾经的小码农...">
  <meta property="og:title" content="javascript 帮助类">
  <meta property="og:description" content="javascript 帮助类">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-06-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-06-24T00:00:00+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Javascript">
    <meta property="article:tag" content="Scripts">
    <meta property="og:image" content="http://localhost:1313/icons/logo_avatar.png">
      <meta property="og:see_also" content="http://localhost:1313/2022/iis%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/">
      <meta property="og:see_also" content="http://localhost:1313/2022/maplist%E5%B0%81%E8%A3%85/">
      <meta property="og:see_also" content="http://localhost:1313/2022/%E6%B1%89%E5%AD%97%E5%8F%8Aunicode%E4%BA%92%E8%BD%AC/">
      <meta property="og:see_also" content="http://localhost:1313/2022/%E6%B1%89%E5%AD%97%E8%BD%AC%E6%8B%BC%E9%9F%B3/">
      <meta property="og:see_also" content="http://localhost:1313/2022/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%A4%84%E7%90%86%E7%BB%84%E4%BB%B6/">
      <meta property="og:see_also" content="http://localhost:1313/2022/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E7%BB%84%E4%BB%B6/">




<link rel="canonical" href="http://localhost:1313/2022/%E5%B8%AE%E5%8A%A9%E7%B1%BB/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">


<link rel="alternate" type="text/plain" href="/2022/%E5%B8%AE%E5%8A%A9%E7%B1%BB/index.md" title="一个曾经的小码农..." />







</head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      一个曾经的小码农...
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">文章</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/tags/">标签</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/">分类</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/series/">系列</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/2022/%E5%B8%AE%E5%8A%A9%E7%B1%BB/">
              javascript 帮助类
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2022-06-24T00:00:00Z">
                June 24, 2022
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              阅读时间：7 分钟
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/admin/">Admin</a></div>

          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/%E9%82%A3%E4%BA%9B%E5%B9%B4%E7%9A%84%E6%94%B6%E8%97%8F/">那些年的收藏</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/linux/">Linux</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/javascript/">Javascript</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/scripts/">Scripts</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">check_browser</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Opera</span> <span class="o">=</span> <span class="p">(</span><span class="nx">navigator</span> <span class="p">.</span><span class="nx">userAgent</span> <span class="p">.</span><span class="nx">indexOf</span> <span class="p">(</span><span class="s2">&#34;Opera&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">MSIE</span> <span class="o">=</span> <span class="p">(</span><span class="nx">navigator</span> <span class="p">.</span><span class="nx">userAgent</span> <span class="p">.</span><span class="nx">indexOf</span> <span class="p">(</span><span class="s2">&#34;Microsoft&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">FX</span> <span class="o">=</span> <span class="p">(</span><span class="nx">navigator</span> <span class="p">.</span><span class="nx">userAgent</span> <span class="p">.</span><span class="nx">indexOf</span> <span class="p">(</span><span class="s2">&#34;Mozilla&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">Opera</span> <span class="p">)</span> <span class="nx">brow_type</span> <span class="o">=</span> <span class="s2">&#34;Opera&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">FX</span> <span class="p">)</span><span class="nx">brow_type</span> <span class="o">=</span> <span class="s2">&#34;Firefox&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">MSIE</span> <span class="p">)</span><span class="nx">brow_type</span> <span class="o">=</span> <span class="s2">&#34;MSIE&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">brow_type</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">getWindowHeight</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">windowHeight</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">windowHeight</span> <span class="o">=</span> <span class="nb">window</span> <span class="p">.</span><span class="nx">innerHeight</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span> <span class="nx">clientHeight</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">windowHeight</span> <span class="o">=</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">documentElement</span> <span class="p">.</span><span class="nx">clientHeight</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">body</span> <span class="p">.</span><span class="nx">clientHeight</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">windowHeight</span> <span class="o">=</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">body</span> <span class="p">.</span><span class="nx">clientHeight</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nx">windowHeight</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">getWindowWidth</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">windowWidth</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">windowWidth</span> <span class="o">=</span> <span class="nb">window</span> <span class="p">.</span><span class="nx">innerWidth</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span> <span class="nx">clientWidth</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">windowWidth</span> <span class="o">=</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">documentElement</span> <span class="p">.</span><span class="nx">clientWidth</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">body</span> <span class="p">.</span><span class="nx">clientWidth</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">windowWidth</span> <span class="o">=</span> <span class="nb">document</span> <span class="p">.</span><span class="nx">body</span> <span class="p">.</span><span class="nx">clientWidth</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nx">windowWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*open window at the middle&amp;center of screen*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">openwindow</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">name</span><span class="p">,</span><span class="nx">iWidth</span><span class="p">,</span><span class="nx">iHeight</span><span class="p">,</span><span class="nx">isFullScreen</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">url</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">iWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">iHeight</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span><span class="p">(</span><span class="nx">isFullScreen</span> <span class="o">!=</span><span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">isFullScreen</span><span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">iWidth</span> <span class="o">=</span> <span class="nb">window</span> <span class="p">.</span><span class="nx">screen</span> <span class="p">.</span><span class="nx">availWidth</span> <span class="o">-</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">iHeight</span> <span class="o">=</span> <span class="nb">window</span> <span class="p">.</span><span class="nx">screen</span> <span class="p">.</span><span class="nx">availHeight</span> <span class="o">-</span> <span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">iTop</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">availHeight</span> <span class="o">-</span><span class="mi">30</span><span class="o">-</span> <span class="nx">iHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">iLeft</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">availWidth</span> <span class="o">-</span><span class="mi">10</span><span class="o">-</span> <span class="nx">iWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span> <span class="p">.</span><span class="nx">open</span> <span class="p">(</span><span class="nx">url</span> <span class="p">,</span><span class="nx">name</span> <span class="p">,</span><span class="s1">&#39;height=&#39;</span><span class="o">+</span> <span class="nx">iHeight</span><span class="o">+</span><span class="s1">&#39;,innerHeight=&#39;</span> <span class="o">+</span><span class="nx">iHeight</span> <span class="o">+</span><span class="s1">&#39;,width=&#39;</span><span class="o">+</span> <span class="nx">iWidth</span><span class="o">+</span><span class="s1">&#39;,innerWidth=&#39;</span> <span class="o">+</span><span class="nx">iWidth</span> <span class="o">+</span><span class="s1">&#39;,top=&#39;</span><span class="o">+</span> <span class="nx">iTop</span><span class="o">+</span><span class="s1">&#39;,left=&#39;</span> <span class="o">+</span><span class="nx">iLeft</span> <span class="o">+</span><span class="s1">&#39;,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,status=yes,titlebar=yes&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm"> function: compare old_str and new_str, then output add_str and del_str
</span></span></span><span class="line"><span class="cl"><span class="cm"> example_1:      old_str=1,2,3,5;new_str=1,3,4,6;compareStr(old_str,new_str)=4,6;2,5
</span></span></span><span class="line"><span class="cl"><span class="cm"> notice: under any condition, &#39;;&#39; exists all the same!
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">compareStr</span><span class="p">(</span><span class="nx">oldStr</span><span class="p">,</span><span class="nx">newStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span><span class="p">(</span><span class="nx">oldStr</span><span class="o">==</span><span class="nx">newStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="s1">&#39;;&#39;</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span><span class="p">(</span><span class="nx">oldStr</span><span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="nx">newStr</span><span class="o">+</span> <span class="s1">&#39;;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span><span class="p">(</span><span class="nx">newStr</span><span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="s1">&#39;;&#39;</span> <span class="o">+</span><span class="nx">oldStr</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">oldArr</span> <span class="o">=</span> <span class="nx">oldStr</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">newArr</span> <span class="o">=</span> <span class="nx">newStr</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">dels</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">adds</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">oldArr</span> <span class="p">.</span><span class="nx">length</span> <span class="p">;</span><span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>     
</span></span><span class="line"><span class="cl">             <span class="kd">var</span> <span class="nx">tag</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">newArr</span> <span class="p">.</span><span class="nx">length</span> <span class="p">;</span><span class="nx">j</span> <span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span><span class="p">(</span><span class="nx">oldArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="nx">newArr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">                   <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">tag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                         <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="k">if</span><span class="p">(</span><span class="nx">tag</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">dels</span> <span class="o">=</span> <span class="nx">dels</span> <span class="o">+</span> <span class="nx">oldArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">newArr</span> <span class="p">.</span><span class="nx">length</span> <span class="p">;</span><span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>     
</span></span><span class="line"><span class="cl">             <span class="kd">var</span> <span class="nx">tag</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">oldArr</span> <span class="p">.</span><span class="nx">length</span> <span class="p">;</span><span class="nx">j</span> <span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span><span class="p">(</span><span class="nx">newArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="nx">oldArr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">                   <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">tag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                         <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="k">if</span><span class="p">(</span><span class="nx">tag</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">adds</span> <span class="o">=</span> <span class="nx">adds</span> <span class="o">+</span> <span class="nx">newArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">if</span><span class="p">(</span><span class="nx">dels</span><span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">adds</span><span class="o">!=</span><span class="s1">&#39;&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="nx">adds</span><span class="p">.</span> <span class="nx">substring</span><span class="p">(</span><span class="mi">0</span> <span class="p">,</span><span class="nx">adds</span> <span class="p">.</span><span class="nx">lastIndexOf</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;;&#39;</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">adds</span> <span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">dels</span> <span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="s1">&#39;;&#39;</span> <span class="o">+</span> <span class="nx">dels</span><span class="p">.</span><span class="nx">substring</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">dels</span><span class="p">.</span><span class="nx">lastIndexOf</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">adds</span> <span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">dels</span> <span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="s1">&#39;;&#39;</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">else</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="nx">adds</span><span class="p">.</span> <span class="nx">substring</span><span class="p">(</span><span class="mi">0</span> <span class="p">,</span><span class="nx">adds</span> <span class="p">.</span><span class="nx">lastIndexOf</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;;&#39;</span> <span class="o">+</span> <span class="nx">dels</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="nx">dels</span><span class="p">.</span><span class="nx">lastIndexOf</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*JS高精度计算*/</span>
</span></span><span class="line"><span class="cl"><span class="c1">//除法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">accDiv</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span><span class="nx">arg2</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">t1</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="nx">t2</span><span class="o">=</span><span class="mi">0</span> <span class="p">,</span><span class="nx">r1</span> <span class="p">,</span><span class="nx">r2</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">t1</span><span class="o">=</span><span class="nx">arg1</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){}</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">t2</span><span class="o">=</span><span class="nx">arg2</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){}</span>
</span></span><span class="line"><span class="cl">       <span class="kd">with</span><span class="p">(</span><span class="nb">Math</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">r1</span> <span class="o">=</span><span class="nb">Number</span> <span class="p">(</span><span class="nx">arg1</span> <span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span> <span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="nx">r2</span> <span class="o">=</span><span class="nb">Number</span> <span class="p">(</span><span class="nx">arg2</span> <span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span> <span class="p">))</span>
</span></span><span class="line"><span class="cl">             <span class="k">return</span> <span class="p">(</span> <span class="nx">r1</span><span class="o">/</span> <span class="nx">r2</span><span class="p">)</span><span class="o">*</span> <span class="nx">pow</span><span class="p">(</span><span class="mi">10</span> <span class="p">,</span><span class="nx">t2</span> <span class="o">-</span><span class="nx">t1</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//乘法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">accMul</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span><span class="nx">arg2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">m</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="nx">s1</span><span class="o">=</span><span class="nx">arg1</span><span class="p">.</span><span class="nx">toString</span> <span class="p">(),</span><span class="nx">s2</span><span class="o">=</span> <span class="nx">arg2</span><span class="p">.</span><span class="nx">toString</span> <span class="p">();</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">m</span><span class="o">+=</span><span class="nx">s1</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&#34;.&#34;</span> <span class="p">)[</span> <span class="mi">1</span><span class="p">]</span> <span class="p">.</span><span class="nx">length</span> <span class="p">}</span><span class="k">catch</span><span class="p">(</span> <span class="nx">e</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">m</span><span class="o">+=</span><span class="nx">s2</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&#34;.&#34;</span> <span class="p">)[</span> <span class="mi">1</span><span class="p">]</span> <span class="p">.</span><span class="nx">length</span> <span class="p">}</span><span class="k">catch</span><span class="p">(</span> <span class="nx">e</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">s1</span><span class="p">.</span> <span class="nx">replace</span><span class="p">(</span><span class="s2">&#34;.&#34;</span> <span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span><span class="o">*</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">s2</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&#34;.&#34;</span> <span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span><span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span> <span class="p">,</span><span class="nx">m</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//加法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">accAdd</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span><span class="nx">arg2</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">       <span class="kd">var</span> <span class="nx">r1</span><span class="p">,</span> <span class="nx">r2</span><span class="p">,</span> <span class="nx">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">r1</span><span class="o">=</span><span class="nx">arg1</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){</span><span class="nx">r1</span> <span class="o">=</span><span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="k">try</span><span class="p">{</span><span class="nx">r2</span><span class="o">=</span><span class="nx">arg2</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){</span><span class="nx">r2</span> <span class="o">=</span><span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">m</span> <span class="o">=</span><span class="nb">Math</span> <span class="p">.</span><span class="nx">pow</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">r1</span><span class="p">,</span><span class="nx">r2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="p">(</span> <span class="nx">arg1</span><span class="o">*</span><span class="nx">m</span><span class="o">+</span><span class="nx">arg2</span><span class="o">*</span><span class="nx">m</span><span class="p">)</span><span class="o">/</span><span class="nx">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//减法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">accSubtr</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span><span class="nx">arg2</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">     <span class="kd">var</span> <span class="nx">r1</span> <span class="p">,</span><span class="nx">r2</span> <span class="p">,</span><span class="nx">m</span> <span class="p">,</span><span class="nx">n</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="k">try</span><span class="p">{</span> <span class="nx">r1</span><span class="o">=</span> <span class="nx">arg1</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){</span><span class="nx">r1</span> <span class="o">=</span><span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">try</span><span class="p">{</span> <span class="nx">r2</span><span class="o">=</span> <span class="nx">arg2</span><span class="p">.</span><span class="nx">toString</span> <span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span> <span class="p">){</span><span class="nx">r2</span> <span class="o">=</span><span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="nx">m</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span> <span class="p">,</span><span class="nb">Math</span> <span class="p">.</span><span class="nx">max</span> <span class="p">(</span><span class="nx">r1</span> <span class="p">,</span><span class="nx">r2</span> <span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//last modify by deeka
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="c1">//动态控制精度长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="nx">r1</span><span class="o">&gt;=</span><span class="nx">r2</span><span class="p">)</span><span class="o">?</span><span class="nx">r1</span><span class="o">:</span><span class="nx">r2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="k">return</span> <span class="p">((</span><span class="nx">arg1</span> <span class="o">*</span><span class="nx">m</span> <span class="o">-</span><span class="nx">arg2</span> <span class="o">*</span><span class="nx">m</span> <span class="p">)</span><span class="o">/</span><span class="nx">m</span> <span class="p">).</span><span class="nx">toFixed</span> <span class="p">(</span><span class="nx">n</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> *验证初始化，系统自动监控sumbit按钮，在提交时自动添加遮罩，并且把表单覆盖（不让编辑）
</span></span></span><span class="line"><span class="cl"><span class="cm"> *如果需要在提交成功
</span></span></span><span class="line"><span class="cl"><span class="cm"> *返回Validator，详细见http://docs.jquery.com/Plugins/Validation
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">_submitBeforeMaskCallback</span><span class="p">(</span><span class="nx">form</span><span class="p">){};</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">_invalidMethodCallback</span><span class="p">(</span><span class="nx">form</span><span class="p">,</span><span class="nx">validator</span> <span class="p">){};</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">validForm</span><span class="p">(</span><span class="nx">formId</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">      <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">extend</span> <span class="p">(</span><span class="nx">jQuery</span> <span class="p">.</span><span class="nx">validator</span> <span class="p">.</span><span class="nx">messages</span> <span class="p">,{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">required</span> <span class="o">:</span> <span class="s2">&#34;必填项&#34;</span><span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">remote</span> <span class="o">:</span> <span class="s2">&#34;请修正该字段&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">email</span> <span class="o">:</span> <span class="s2">&#34;请输入正确格式的电子邮件&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">url</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的网址&#34;</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">date</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的日期&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">dateISO</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的日期 (ISO).&#34;</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">number</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的数字&#34;</span> <span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">digits</span> <span class="o">:</span> <span class="s2">&#34;只能输入整数&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">creditcard</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的信用卡号&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">equalTo</span> <span class="o">:</span> <span class="s2">&#34;请再次输入相同的值&#34;</span> <span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">accept</span> <span class="o">:</span> <span class="s2">&#34;请输入拥有合法后缀名的字符串&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">maxlength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度最多是 {0} 的字符串&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">minlength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度最少是 {0} 的字符串&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">rangelength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度介于 {0} 和 {1} 之间的字符串&#34;</span> <span class="p">),</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">range</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个介于 {0} 和 {1} 之间的值&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">max</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个最大为 {0} 的值&#34;</span> <span class="p">),</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">min</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个最小为 {0} 的值&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nx">$</span><span class="p">(</span> <span class="s2">&#34;#&#34;</span><span class="o">+</span><span class="nx">formId</span><span class="p">).</span><span class="nx">validate</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">meta</span> <span class="o">:</span> <span class="s2">&#34;valid&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">errorPlacement</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">element</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="kd">var</span> <span class="nx">$elm</span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">element</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:empty&#39;</span> <span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                         <span class="k">if</span><span class="p">(</span><span class="nx">$elm</span><span class="p">.</span><span class="nx">siblings</span> <span class="p">(</span><span class="s2">&#34;p &gt; label.error&#34;</span><span class="p">).</span> <span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span> <span class="p">){</span>
</span></span><span class="line"><span class="cl">                              <span class="nx">$elm</span> <span class="p">.</span><span class="nx">siblings</span> <span class="p">(</span><span class="s2">&#34;p &gt; label.error&#34;</span><span class="p">).</span><span class="nx">replaceWith</span> <span class="p">(</span><span class="nx">error</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                         <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                               <span class="kd">var</span> <span class="nx">$tmperr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;&lt;/p&gt;&#34;</span><span class="p">).</span> <span class="nx">wrapInner</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                              <span class="nx">$elm</span> <span class="p">.</span><span class="nx">after</span> <span class="p">(</span><span class="nx">$tmperr</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                         <span class="p">}</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">success</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">label</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">label</span> <span class="p">.</span><span class="nx">parent</span> <span class="p">(</span><span class="s2">&#34;p&#34;</span><span class="p">).</span> <span class="nx">remove</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">             <span class="p">},</span>
</span></span><span class="line"><span class="cl">             <span class="c1">//验证通过时的回调方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">submitHandler</span> <span class="o">:</span><span class="kd">function</span><span class="p">(</span> <span class="nx">form</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">_submitBeforeMaskCallback</span> <span class="p">(</span><span class="nx">form</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">$</span> <span class="p">(</span><span class="nx">form</span> <span class="p">).</span><span class="nx">mask</span> <span class="p">(</span><span class="s2">&#34;请稍后...&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">form</span> <span class="p">.</span><span class="nx">submit</span> <span class="p">();</span>
</span></span><span class="line"><span class="cl">                   <span class="c1">//alert(&#39;submitHandler&#39;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="p">},</span>
</span></span><span class="line"><span class="cl">             <span class="c1">//验证失败时的回调方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">invalidHandler</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">form</span><span class="p">,</span> <span class="nx">validator</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">_invalidMethodCallback</span> <span class="p">(</span><span class="nx">form</span> <span class="p">,</span><span class="nx">validator</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                   <span class="c1">//alert(&#39;invalidHandler&#39;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 在具体页面中中实现，用与ajaxValidForm验证成功后回调
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param form
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">_ajaxSubmitForm</span><span class="p">(</span><span class="nx">form</span><span class="p">){};</span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ajax的验证form框架
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param formId
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @returns
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">ajaxValidForm</span><span class="p">(</span><span class="nx">formId</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">      <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">extend</span> <span class="p">(</span><span class="nx">jQuery</span> <span class="p">.</span><span class="nx">validator</span> <span class="p">.</span><span class="nx">messages</span> <span class="p">,{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">required</span> <span class="o">:</span> <span class="s2">&#34;必选字段&#34;</span> <span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">remote</span> <span class="o">:</span> <span class="s2">&#34;请修正该字段&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">email</span> <span class="o">:</span> <span class="s2">&#34;请输入正确格式的电子邮件&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">url</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的网址&#34;</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">date</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的日期&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">dateISO</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的日期 (ISO).&#34;</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">number</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的数字&#34;</span> <span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">digits</span> <span class="o">:</span> <span class="s2">&#34;只能输入整数&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">creditcard</span> <span class="o">:</span> <span class="s2">&#34;请输入合法的信用卡号&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">equalTo</span> <span class="o">:</span> <span class="s2">&#34;请再次输入相同的值&#34;</span> <span class="p">,</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">accept</span> <span class="o">:</span> <span class="s2">&#34;请输入拥有合法后缀名的字符串&#34;</span> <span class="p">,</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">maxlength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度最多是 {0} 的字符串&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">minlength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度最少是 {0} 的字符串&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">rangelength</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个长度介于 {0} 和 {1} 之间的字符串&#34;</span> <span class="p">),</span>   
</span></span><span class="line"><span class="cl">                <span class="nx">range</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个介于 {0} 和 {1} 之间的值&#34;</span> <span class="p">),</span>  
</span></span><span class="line"><span class="cl">                <span class="nx">max</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个最大为 {0} 的值&#34;</span> <span class="p">),</span> 
</span></span><span class="line"><span class="cl">                <span class="nx">min</span> <span class="o">:</span> <span class="nx">jQuery</span> <span class="p">.</span><span class="nx">format</span> <span class="p">(</span><span class="s2">&#34;请输入一个最小为 {0} 的值&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nx">$</span><span class="p">(</span> <span class="s2">&#34;#&#34;</span><span class="o">+</span><span class="nx">formId</span><span class="p">).</span><span class="nx">validate</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">meta</span> <span class="o">:</span> <span class="s2">&#34;valid&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">errorPlacement</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">element</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                   <span class="kd">var</span> <span class="nx">$elm</span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">element</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                   <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:empty&#39;</span> <span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                         <span class="k">if</span><span class="p">(</span><span class="nx">$elm</span><span class="p">.</span><span class="nx">siblings</span> <span class="p">(</span><span class="s2">&#34;p &gt; label.error&#34;</span><span class="p">).</span> <span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span> <span class="p">){</span>
</span></span><span class="line"><span class="cl">                              <span class="nx">$elm</span> <span class="p">.</span><span class="nx">siblings</span> <span class="p">(</span><span class="s2">&#34;p &gt; label.error&#34;</span><span class="p">).</span><span class="nx">replaceWith</span> <span class="p">(</span><span class="nx">error</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                         <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                               <span class="kd">var</span> <span class="nx">$tmperr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;&lt;/p&gt;&#34;</span><span class="p">).</span> <span class="nx">wrapInner</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                              <span class="nx">$elm</span> <span class="p">.</span><span class="nx">after</span> <span class="p">(</span><span class="nx">$tmperr</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                         <span class="p">}</span>
</span></span><span class="line"><span class="cl">                   <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">success</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">label</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">label</span> <span class="p">.</span><span class="nx">parent</span> <span class="p">(</span><span class="s2">&#34;p&#34;</span><span class="p">).</span> <span class="nx">remove</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">             <span class="p">},</span>
</span></span><span class="line"><span class="cl">             <span class="c1">//验证通过时的回调方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">submitHandler</span> <span class="o">:</span><span class="kd">function</span><span class="p">(</span> <span class="nx">form</span><span class="p">,</span><span class="nx">validator</span> <span class="p">){</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">_submitBeforeMaskCallback</span> <span class="p">(</span><span class="nx">form</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">$</span> <span class="p">(</span><span class="nx">form</span> <span class="p">).</span><span class="nx">mask</span> <span class="p">(</span><span class="s2">&#34;请稍后...&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">_ajaxSubmitForm</span> <span class="p">(</span><span class="nx">form</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                   <span class="c1">//alert(&#39;submitHandler&#39;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="p">},</span>
</span></span><span class="line"><span class="cl">             <span class="c1">//验证失败时的回调方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">invalidHandler</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">form</span><span class="p">,</span> <span class="nx">validator</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                  <span class="nx">_invalidMethodCallback</span> <span class="p">(</span><span class="nx">form</span> <span class="p">,</span><span class="nx">validator</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">                   <span class="c1">//alert(&#39;invalidHandler&#39;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 将数字转换成大写金额函数
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span> 
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">rmbCapital</span><span class="p">(</span><span class="nx">numberValue</span> <span class="p">){</span>  
</span></span><span class="line"><span class="cl">      <span class="kd">var</span>   <span class="nx">numberValue</span> <span class="o">=</span><span class="k">new</span> <span class="nb">String</span> <span class="p">(</span><span class="nb">Math</span> <span class="p">.</span><span class="nx">round</span> <span class="p">(</span><span class="nx">numberValue</span> <span class="o">*</span><span class="mi">100</span><span class="p">));</span>    <span class="c1">//   数字金额  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">chineseValue</span> <span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">;</span>                      <span class="c1">//   转换后的汉字金额  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">String1</span>   <span class="o">=</span>   <span class="s2">&#34;零壹贰叁肆伍陆柒捌玖&#34;</span> <span class="p">;</span>               <span class="c1">//   汉字数字  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">String2</span>   <span class="o">=</span>   <span class="s2">&#34;万仟佰拾亿仟佰拾万仟佰拾元角分&#34;</span> <span class="p">;</span>           <span class="c1">//   对应单位  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">len</span> <span class="o">=</span><span class="nx">numberValue</span> <span class="p">.</span><span class="nx">length</span> <span class="p">;</span>                   <span class="c1">//   numberValue   的字符串长度  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">Ch1</span> <span class="p">;</span>                           <span class="c1">//   数字的汉语读法  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">Ch2</span> <span class="p">;</span>                           <span class="c1">//   数字位的汉字读法  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">nZero</span> <span class="o">=</span><span class="mi">0</span><span class="p">;</span>                          <span class="c1">//   用来计算连续的零值的个数  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">var</span>   <span class="nx">String3</span> <span class="p">;</span>                         <span class="c1">//   指定位置的数值  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">if</span><span class="p">(</span> <span class="nx">len</span><span class="o">&gt;</span><span class="mi">15</span> <span class="p">){</span>  
</span></span><span class="line"><span class="cl">              <span class="nx">alert</span> <span class="p">(</span><span class="s2">&#34;超出计算范围&#34;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">              <span class="k">return</span>   <span class="s2">&#34;&#34;</span> <span class="p">;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">      <span class="k">if</span>   <span class="p">(</span><span class="nx">numberValue</span> <span class="o">==</span><span class="mi">0</span><span class="p">){</span>   
</span></span><span class="line"><span class="cl">              <span class="nx">chineseValue</span>   <span class="o">=</span>   <span class="s2">&#34;零元整&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">              <span class="k">return</span>   <span class="nx">chineseValue</span><span class="p">;</span>   
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">      <span class="nx">String2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">String2</span> <span class="p">.</span><span class="nx">length</span> <span class="o">-</span><span class="nx">len</span> <span class="p">,</span>   <span class="nx">len</span> <span class="p">);</span>       <span class="c1">//   取出对应位数的STRING2的值  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">for</span><span class="p">(</span> <span class="kd">var</span>   <span class="nx">i</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>   <span class="nx">i</span> <span class="o">&lt;</span><span class="nx">len</span><span class="p">;</span>    <span class="nx">i</span><span class="o">++</span><span class="p">){</span>  
</span></span><span class="line"><span class="cl">              <span class="nx">String3</span>   <span class="o">=</span>   <span class="nb">parseInt</span> <span class="p">(</span><span class="nx">numberValue</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">),</span><span class="mi">10</span> <span class="p">);</span>       <span class="c1">//   取出需转换的某一位的值  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>              <span class="k">if</span>   <span class="p">(</span>    <span class="nx">i</span>   <span class="o">!=</span>   <span class="p">(</span><span class="nx">len</span>   <span class="o">-</span>   <span class="mi">3</span><span class="p">)</span>   <span class="o">&amp;&amp;</span>   <span class="nx">i</span>   <span class="o">!=</span>    <span class="p">(</span><span class="nx">len</span>   <span class="o">-</span>   <span class="mi">7</span><span class="p">)</span>   <span class="o">&amp;&amp;</span>   <span class="nx">i</span>   <span class="o">!=</span>    <span class="p">(</span><span class="nx">len</span>   <span class="o">-</span>   <span class="mi">11</span><span class="p">)</span>   <span class="o">&amp;&amp;</span>   <span class="nx">i</span>   <span class="o">!=</span><span class="p">(</span> <span class="nx">len</span>   <span class="o">-</span>   <span class="mi">15</span><span class="p">)</span>   <span class="p">){</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">if</span>   <span class="p">(</span>    <span class="nx">String3</span>   <span class="o">==</span>   <span class="mi">0</span>   <span class="p">){</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="s2">&#34;&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="s2">&#34;&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="nx">nZero</span>   <span class="o">+</span>   <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">else</span>   <span class="k">if</span>   <span class="p">(</span>   <span class="nx">String3</span>   <span class="o">!=</span>   <span class="mi">0</span>   <span class="o">&amp;&amp;</span>   <span class="nx">nZero</span>   <span class="o">!=</span>    <span class="mi">0</span>   <span class="p">){</span>   
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="s2">&#34;零&#34;</span>   <span class="o">+</span>    <span class="nx">String1</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="nx">String3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">else</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="nx">String1</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">String3</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">              <span class="p">}</span>  
</span></span><span class="line"><span class="cl">              <span class="k">else</span><span class="p">{</span>                             <span class="c1">//   该位是万亿，亿，万，元位等关键位  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                      <span class="k">if</span><span class="p">(</span>   <span class="nx">String3</span>   <span class="o">!=</span>   <span class="mi">0</span>   <span class="o">&amp;&amp;</span>   <span class="nx">nZero</span>   <span class="o">!=</span>    <span class="mi">0</span>   <span class="p">){</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="s2">&#34;零&#34;</span>   <span class="o">+</span>    <span class="nx">String1</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="nx">String3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">else</span>   <span class="k">if</span>   <span class="p">(</span>   <span class="nx">String3</span>   <span class="o">!=</span>   <span class="mi">0</span>   <span class="o">&amp;&amp;</span>   <span class="nx">nZero</span>   <span class="o">==</span>    <span class="mi">0</span>   <span class="p">){</span>   
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="nx">String1</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">String3</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">else</span>   <span class="k">if</span><span class="p">(</span>   <span class="nx">String3</span>   <span class="o">==</span>    <span class="mi">0</span>   <span class="o">&amp;&amp;</span>   <span class="nx">nZero</span>   <span class="o">&gt;=</span>    <span class="mi">3</span>   <span class="p">){</span>   
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="s2">&#34;&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="s2">&#34;&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="nx">nZero</span>   <span class="o">+</span>   <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">else</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch1</span>   <span class="o">=</span>   <span class="s2">&#34;&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                              <span class="nx">nZero</span>   <span class="o">=</span>   <span class="nx">nZero</span>   <span class="o">+</span>   <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                      <span class="k">if</span><span class="p">(</span>   <span class="nx">i</span>   <span class="o">==</span>   <span class="p">(</span><span class="nx">len</span>   <span class="o">-</span>   <span class="mi">11</span><span class="p">)</span>   <span class="o">||</span>   <span class="nx">i</span>   <span class="o">==</span>   <span class="p">(</span><span class="nx">len</span>   <span class="o">-</span>   <span class="mi">3</span> <span class="p">)){</span>         <span class="c1">//   如果该位是亿位或元位，则必须写上  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                              <span class="nx">Ch2</span>   <span class="o">=</span>   <span class="nx">String2</span> <span class="p">.</span><span class="nx">substr</span> <span class="p">(</span><span class="nx">i</span> <span class="p">,</span>   <span class="mi">1</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">                      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">              <span class="p">}</span>  
</span></span><span class="line"><span class="cl">              <span class="nx">chineseValue</span>   <span class="o">=</span>   <span class="nx">chineseValue</span>   <span class="o">+</span>   <span class="nx">Ch1</span>   <span class="o">+</span>   <span class="nx">Ch2</span> <span class="p">;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">      <span class="k">if</span>   <span class="p">(</span>   <span class="nx">String3</span>   <span class="o">==</span>   <span class="mi">0</span>   <span class="p">){</span>                       <span class="c1">//   最后一位（分）为0时，加上“整”  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>              <span class="nx">chineseValue</span>   <span class="o">=</span>   <span class="nx">chineseValue</span>   <span class="o">+</span>   <span class="s2">&#34;整&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">      <span class="k">return</span>   <span class="nx">chineseValue</span> <span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">//去除左边的空格
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">.</span><span class="nx">LTrim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">this</span> <span class="p">.</span><span class="nx">replace</span> <span class="p">(</span><span class="sr">/(^\s*)/g</span><span class="p">,</span> <span class="s2">&#34;&#34;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">//去除右边的空格
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">.</span><span class="nx">Rtrim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(\s*$)/g</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">//去除前后空格
</span></span></span><span class="line"><span class="cl"><span class="cm">===========================================
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">.</span><span class="nx">Trim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span> <span class="p">.</span><span class="nx">replace</span> <span class="p">(</span><span class="sr">/(^\s*)|(\s*$)/g</span><span class="p">,</span> <span class="s2">&#34;&#34;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//监听键盘，只允许输入数字和小数点(只能一个)  、del、backspace，左、右键
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">checkmsMoney</span><span class="p">(</span><span class="nx">targetObject</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">$</span><span class="p">(</span><span class="nx">targetObject</span><span class="p">).</span><span class="nx">keypress</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nx">keyCode</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">which</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nx">tmpV</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">46</span> <span class="o">&amp;&amp;</span> <span class="sr">/^(0|([1-9](\d)*))$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">))</span> <span class="p">{</span><span class="c1">//当0或者整数时，可输入小数点
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">tmpV</span> <span class="o">==</span> <span class="s2">&#34;&#34;</span> <span class="o">||</span> <span class="sr">/^(([1-9](\d)*))$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">)))</span> <span class="p">{</span><span class="c1">//当整数时，可输入数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(((</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="sr">/(\.|(\.\d)){1}$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">))</span> <span class="p">{</span><span class="c1">//当已经有小数点或者小数点1位时，可以输入1位数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">8</span> <span class="o">||</span> <span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">37</span> <span class="o">||</span> <span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">39</span><span class="p">)</span> <span class="p">{</span><span class="c1">//退格键，del，左右键
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}).</span><span class="nx">focus</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">imeMode</span> <span class="o">=</span> <span class="s1">&#39;disabled&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 调用
</span></span></span><span class="line"><span class="cl"><span class="c1">// onfocus = &#34;checkmsMoney(this);&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//首字母转换大小写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">UpperFirstLetter</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\b\w+\b/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">word</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//数字输入验证
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">numberInputValidate</span><span class="p">(</span><span class="nx">keyCode</span><span class="p">,</span> <span class="nx">originalVal</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">tmpV</span> <span class="o">=</span> <span class="nx">originalVal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">46</span> <span class="o">&amp;&amp;</span> <span class="sr">/^(0|([1-9](\d)*))$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">))</span> <span class="p">{</span><span class="c1">//当0或者整数时，可输入小数点
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">tmpV</span> <span class="o">==</span> <span class="s2">&#34;&#34;</span> <span class="o">||</span> <span class="sr">/^(([1-9](\d)*))$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">)))</span> <span class="p">{</span><span class="c1">//当整数时，可输入数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(((</span><span class="nx">keyCode</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">&amp;&amp;</span> <span class="nx">keyCode</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="sr">/(\.|(\.\d)){1}$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">tmpV</span><span class="p">))</span> <span class="p">{</span><span class="c1">//当已经有小数点或者小数点1位时，可以输入1位数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">8</span> <span class="o">||</span> <span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">37</span> <span class="o">||</span> <span class="nx">keyCode</span> <span class="o">==</span> <span class="mi">39</span><span class="p">)</span> <span class="p">{</span><span class="c1">//退格键，del，左右键
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;input[name=&#39;decAmountInput&#39;]&#34;</span><span class="p">).</span><span class="nx">keypress</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">keyCode</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">which</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">numberInputValidate</span><span class="p">(</span><span class="nx">keyCode</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="nx">focus</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">imeMode</span> <span class="o">=</span> <span class="s1">&#39;disabled&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="c1">// -------------------
</span></span></span></code></pre></td></tr></table>
</div>
</div>
      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="参见-那些年的收藏">
        参见 那些年的收藏
        <a class="heading-link" href="#%e5%8f%82%e8%a7%81-%e9%82%a3%e4%ba%9b%e5%b9%b4%e7%9a%84%e6%94%b6%e8%97%8f">
          <i class="fa-solid fa-link" aria-hidden="true" title="链接到标题"></i>
          <span class="sr-only">链接到标题</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/2022/iis%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/">IIS命令操作</a>
            </li>
          
        
          
        
          
            <li>
              <a href="/2022/maplist%E5%B0%81%E8%A3%85/">javascript 封装map、list</a>
            </li>
          
        
          
            <li>
              <a href="/2022/%E6%B1%89%E5%AD%97%E5%8F%8Aunicode%E4%BA%92%E8%BD%AC/">java汉字及unicode互转</a>
            </li>
          
        
          
            <li>
              <a href="/2022/%E6%B1%89%E5%AD%97%E8%BD%AC%E6%8B%BC%E9%9F%B3/">java汉字转拼音</a>
            </li>
          
        
          
            <li>
              <a href="/2022/%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%A4%84%E7%90%86%E7%BB%84%E4%BB%B6/">Java日期格式化处理组件</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
    <div class="footer-container"><div class="footer-line"><div id="show-ip"></div><script>document.addEventListener("DOMContentLoaded", function () {fetch("https://ipinfo.io/json?token=c9716df22a6255").then(function (response) {return response.json();}).then(function (data) {document.getElementById("show-ip").innerHTML = data.ip;if (data.country !== "CN") {document.querySelectorAll(".icp, .icp-splitter, .icp-br").forEach(function (el) {el.style.display = "none";});}}).catch(function (error) {document.getElementById("show-ip").innerHTML = "unknown";console.error("状态请求失败:", error);});});</script><script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)})(window,document,"clarity","script","jtpwi0tdz1");</script></div><div class="footer-line">
          &nbsp;|&nbsp;&nbsp;|&nbsp;
        </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 -2024</span><span class="author" itemprop="copyrightHolder"
            >&nbsp;<a
              href="/"
              target="_blank"
              rel="noopener noreferrer"
              ></a
            ></span
          >&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br" />
          <span class="icp"><img src="/images/gov.png" style="height: 16px;width: 16px; display: inline-block;vertical-align: middle;margin-right: 3px;"/><a href="https://beian.mps.gov.cn/#/query/webSearch?code=50010602503871" rel="noreferrer" target="_blank">渝公网安备50010602503871</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br" />
          <span class="icp"><a href="https://beian.miit.gov.cn" target="_blank">渝ICP备2020011834号-2</a></span></div>
      <div class="footer-line"></div>
      <div class="footer-line"></div>
    </div></footer>
  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
